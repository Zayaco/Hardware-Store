{"ast":null,"code":"import { EventEmitter, Component, ElementRef, ChangeDetectorRef, Output, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nfunction CarouselComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);\n  }\n}\nfunction CarouselComponent_ng_template_5_div_0_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 11);\n  }\n  if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext(2).index;\n    const ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"object-fit\", ctx_r8.objectFit);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r8.getImage(i_r6)[\"image\"][\"path\"], ɵngcc0.ɵɵsanitizeUrl);\n  }\n}\nfunction CarouselComponent_ng_template_5_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_ng_template_5_div_0_img_1_Template, 1, 3, \"img\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext().index;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r7.getCellWidth() + \"px\")(\"border-radius\", ctx_r7.borderRadius + \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.getImage(i_r6) && ctx_r7.getImage(i_r6)[\"image\"]);\n  }\n}\nfunction CarouselComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, CarouselComponent_ng_template_5_div_0_Template, 2, 5, \"div\", 8);\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", i_r6 < ctx_r2.cellLimit);\n  }\n}\nfunction CarouselComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n  }\n  if (rf & 2) {\n    const i_r13 = ctx.index;\n    const ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"carousel-dot-active\", i_r13 === ctx_r11.activeDotIndex);\n  }\n}\nfunction CarouselComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_div_6_div_1_Template, 1, 2, \"div\", 13);\n    ɵngcc0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.dotsArr);\n  }\n}\nfunction CarouselComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_1_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      const ctx_r14 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r14.prev());\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(2, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_2_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      const ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.next());\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"carousel-arrows-outside\", ctx_r4.arrowsOutside)(\"carousel-dark-arrows\", ctx_r4.arrowsTheme === \"dark\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isPrevArrowDisabled());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isNextArrowDisabled());\n  }\n}\nconst _c0 = [\"*\"];\nclass Touches {\n  constructor(properties) {\n    this.eventType = undefined;\n    this.handlers = {};\n    this.startX = 0;\n    this.startY = 0;\n    this.lastTap = 0;\n    this.doubleTapMinTimeout = 300;\n    this.tapMinTimeout = 200;\n    this.touchstartTime = 0;\n    this.i = 0;\n    this.isMousedown = false;\n    this._touchListeners = {\n      \"touchstart\": \"handleTouchstart\",\n      \"touchmove\": \"handleTouchmove\",\n      \"touchend\": \"handleTouchend\"\n    };\n    this._mouseListeners = {\n      \"mousedown\": \"handleMousedown\",\n      \"mousemove\": \"handleMousemove\",\n      \"mouseup\": \"handleMouseup\",\n      \"wheel\": \"handleWheel\"\n    };\n    this._otherListeners = {\n      \"resize\": \"handleResize\"\n    };\n    /*\r\n     * Listeners\r\n     */\n    /* Touchstart */\n    this.handleTouchstart = event => {\n      this.elementPosition = this.getElementPosition();\n      this.touchstartTime = new Date().getTime();\n      if (this.eventType === undefined) {\n        this.getTouchstartPosition(event);\n      }\n      this.runHandler(\"touchstart\", event);\n    };\n    /* Touchmove */\n    this.handleTouchmove = event => {\n      const touches = event.touches;\n      // Pan\n      if (this.detectPan(touches)) {\n        this.runHandler(\"pan\", event);\n      }\n      // Pinch\n      if (this.detectPinch(event)) {\n        this.runHandler(\"pinch\", event);\n      }\n      // Linear swipe\n      switch (this.detectLinearSwipe(event)) {\n        case \"horizontal-swipe\":\n          event.swipeType = \"horizontal-swipe\";\n          this.runHandler(\"horizontal-swipe\", event);\n          break;\n        case \"vertical-swipe\":\n          event.swipeType = \"vertical-swipe\";\n          this.runHandler(\"vertical-swipe\", event);\n          break;\n      }\n      // Linear swipe\n      if (this.detectLinearSwipe(event) || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        this.handleLinearSwipe(event);\n      }\n    };\n    /* Touchend */\n    this.handleTouchend = event => {\n      const touches = event.touches;\n      // Double Tap\n      if (this.detectDoubleTap()) {\n        this.runHandler(\"double-tap\", event);\n      }\n      // Tap\n      this.detectTap();\n      this.runHandler(\"touchend\", event);\n      this.eventType = 'touchend';\n      if (touches && touches.length === 0) {\n        this.eventType = undefined;\n        this.i = 0;\n      }\n    };\n    /* Mousedown */\n    this.handleMousedown = event => {\n      this.isMousedown = true;\n      this.elementPosition = this.getElementPosition();\n      this.touchstartTime = new Date().getTime();\n      if (this.eventType === undefined) {\n        this.getMousedownPosition(event);\n      }\n      this.runHandler(\"mousedown\", event);\n    };\n    /* Mousemove */\n    this.handleMousemove = event => {\n      //event.preventDefault();\n      if (!this.isMousedown) {\n        return;\n      }\n      // Pan\n      this.runHandler(\"pan\", event);\n      // Linear swipe\n      switch (this.detectLinearSwipe(event)) {\n        case \"horizontal-swipe\":\n          event.swipeType = \"horizontal-swipe\";\n          this.runHandler(\"horizontal-swipe\", event);\n          break;\n        case \"vertical-swipe\":\n          event.swipeType = \"vertical-swipe\";\n          this.runHandler(\"vertical-swipe\", event);\n          break;\n      }\n      // Linear swipe\n      if (this.detectLinearSwipe(event) || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        this.handleLinearSwipe(event);\n      }\n    };\n    /* Mouseup */\n    this.handleMouseup = event => {\n      // Tap\n      this.detectTap();\n      this.isMousedown = false;\n      this.runHandler(\"mouseup\", event);\n      this.eventType = undefined;\n      this.i = 0;\n    };\n    /* Wheel */\n    this.handleWheel = event => {\n      this.runHandler(\"wheel\", event);\n    };\n    /* Resize */\n    this.handleResize = event => {\n      this.runHandler(\"resize\", event);\n    };\n    this.properties = properties;\n    this.element = this.properties.element;\n    this.elementPosition = this.getElementPosition();\n    this.toggleEventListeners('addEventListener');\n  }\n  get touchListeners() {\n    return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\n  }\n  get mouseListeners() {\n    return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\n  }\n  get otherListeners() {\n    return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\n  }\n  destroy() {\n    this.toggleEventListeners('removeEventListener');\n  }\n  toggleEventListeners(action) {\n    let listeners;\n    if (this.properties.listeners === 'mouse and touch') {\n      listeners = Object.assign(this.touchListeners, this.mouseListeners);\n    } else {\n      listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\n    }\n    if (this.properties.resize) {\n      listeners = Object.assign(listeners, this.otherListeners);\n    }\n    for (var listener in listeners) {\n      const handler = listeners[listener];\n      // Window\n      if (listener === \"resize\") {\n        if (action === 'addEventListener') {\n          window.addEventListener(listener, this[handler], false);\n        }\n        if (action === 'removeEventListener') {\n          window.removeEventListener(listener, this[handler], false);\n        }\n        // Document\n      } else if (listener === 'mouseup' || listener === \"mousemove\") {\n        if (action === 'addEventListener') {\n          document.addEventListener(listener, this[handler], {\n            passive: false\n          });\n        }\n        if (action === 'removeEventListener') {\n          document.removeEventListener(listener, this[handler], false);\n        }\n        // Element\n      } else {\n        if (action === 'addEventListener') {\n          this.element.addEventListener(listener, this[handler], false);\n        }\n        if (action === 'removeEventListener') {\n          this.element.removeEventListener(listener, this[handler], false);\n        }\n      }\n    }\n  }\n  addEventListeners(listener) {\n    const handler = this._mouseListeners[listener];\n    window.addEventListener(listener, this[handler], false);\n  }\n  removeEventListeners(listener) {\n    const handler = this._mouseListeners[listener];\n    window.removeEventListener(listener, this[handler], false);\n  }\n  handleLinearSwipe(event) {\n    //event.preventDefault();\n    this.i++;\n    if (this.i > 3) {\n      this.eventType = this.getLinearSwipeType(event);\n    }\n    if (this.eventType === 'horizontal-swipe') {\n      this.runHandler('horizontal-swipe', event);\n    }\n    if (this.eventType === 'vertical-swipe') {\n      this.runHandler('vertical-swipe', event);\n    }\n  }\n  runHandler(eventName, response) {\n    if (this.handlers[eventName]) {\n      this.handlers[eventName](response);\n    }\n  }\n  /*\r\n   * Detection\r\n   */\n  detectPan(touches) {\n    return touches.length === 1 && !this.eventType || this.eventType === 'pan';\n  }\n  detectDoubleTap() {\n    if (this.eventType != undefined) {\n      return;\n    }\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this.lastTap;\n    clearTimeout(this.doubleTapTimeout);\n    if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\n      return true;\n    } else {\n      this.doubleTapTimeout = setTimeout(() => {\n        clearTimeout(this.doubleTapTimeout);\n      }, this.doubleTapMinTimeout);\n    }\n    this.lastTap = currentTime;\n    return undefined;\n  }\n  detectTap() {\n    if (this.eventType != undefined) {\n      return;\n    }\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this.touchstartTime;\n    if (tapLength > 0) {\n      if (tapLength < this.tapMinTimeout) {\n        this.runHandler(\"tap\", event);\n      } else {\n        this.runHandler(\"longtap\", event);\n      }\n    }\n  }\n  detectPinch(event) {\n    const touches = event.touches;\n    return touches.length === 2 && this.eventType === undefined || this.eventType === 'pinch';\n  }\n  detectLinearSwipe(event) {\n    const touches = event.touches;\n    if (touches) {\n      if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        return this.getLinearSwipeType(event);\n      }\n    } else {\n      if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n        return this.getLinearSwipeType(event);\n      }\n    }\n    return undefined;\n  }\n  getLinearSwipeType(event) {\n    if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\n      const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\n      const movementY = Math.abs(this.moveTop(0, event) - this.startY);\n      if (movementY * 3 > movementX) {\n        return 'vertical-swipe';\n      } else {\n        return 'horizontal-swipe';\n      }\n    } else {\n      return this.eventType;\n    }\n  }\n  getElementPosition() {\n    return this.element.getBoundingClientRect();\n  }\n  getTouchstartPosition(event) {\n    this.startX = event.touches[0].clientX - this.elementPosition.left;\n    this.startY = event.touches[0].clientY - this.elementPosition.top;\n  }\n  getMousedownPosition(event) {\n    this.startX = event.clientX - this.elementPosition.left;\n    this.startY = event.clientY - this.elementPosition.top;\n  }\n  moveLeft(index, event) {\n    const touches = event.touches;\n    if (touches) {\n      return touches[index].clientX - this.elementPosition.left;\n    } else {\n      return event.clientX - this.elementPosition.left;\n    }\n  }\n  moveTop(index, event) {\n    const touches = event.touches;\n    if (touches) {\n      return touches[index].clientY - this.elementPosition.top;\n    } else {\n      return event.clientY - this.elementPosition.top;\n    }\n  }\n  detectTouchScreen() {\n    var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n    var mq = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    if ('ontouchstart' in window) {\n      return true;\n    }\n    // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n    // https://git.io/vznFH\n    var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n    return mq(query);\n  }\n  /* Public properties and methods */\n  on(event, handler) {\n    if (event) {\n      this.handlers[event] = handler;\n    }\n  }\n}\nclass Carousel {\n  constructor(properties, utils, cells, container, slide) {\n    this.properties = properties;\n    this.utils = utils;\n    this.cells = cells;\n    this.container = container;\n    this.slide = slide;\n    /* The slide length has been limited by the limitSlideLength() method */\n    this.isSlideLengthLimited = false;\n    this.isContentImages = true;\n    this.isLazyLoad = true;\n    this.isContainerLocked = true;\n    this.alignCells = \"left\";\n    this.initialContainerPosition = 0;\n    this.containerPullLimit = 100;\n    this.handleTouchstart = event => {\n      this.container.handleTouchstart();\n      this.slide.handleTouchstart(event);\n    };\n    this.handleHorizontalSwipe = event => {\n      this.container.handleHorizontalSwipe();\n    };\n    this.handleTouchend = event => {\n      if (this.properties.freeScroll) {\n        this.container.handleTouchend();\n      } else {\n        this.container.handleTouchend(true);\n        this.slide.handleTouchend(event);\n      }\n    };\n    this.isNextArrowDisabled = () => {\n      return this.slide.isNextArrowDisabled();\n    };\n    this.isPrevArrowDisabled = () => {\n      return this.slide.isPrevArrowDisabled();\n    };\n    this.init();\n  }\n  get cellLength() {\n    return this.cells.cellLength;\n  }\n  get cellLengthInLightDOMMode() {\n    if (this.images) {\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n      if (cellLength > this.images.length) {\n        cellLength = this.images.length;\n      }\n      return cellLength;\n    } else {\n      return this.cellLength;\n    }\n  }\n  get lastCellIndex() {\n    return this.images.length ? this.images.length - 1 : this.cells.cellLength - 1;\n  }\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n  get cellLimit() {\n    if (this.isLightDOM) {\n      let cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n      if (cellLimit < this.numberOfVisibleCells) {\n        cellLimit = this.numberOfVisibleCells;\n      }\n      return cellLimit;\n    } else {\n      return this.properties.images.length;\n    }\n  }\n  get isLightDOM() {\n    return this.properties.lightDOM || this.properties.loop;\n  }\n  get images() {\n    return this.properties.images;\n  }\n  get margin() {\n    return this.properties.margin;\n  }\n  get minSwipeDistance() {\n    return this.properties.minSwipeDistance;\n  }\n  get transitionDuration() {\n    return this.properties.transitionDuration;\n  }\n  get transitionTimingFunction() {\n    return this.properties.transitionTimingFunction;\n  }\n  get fullCellWidth() {\n    return this.properties.cellWidth + this.margin;\n  }\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n  get lapCounter() {\n    return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\n  }\n  get slideCounter() {\n    return this.slide.counter;\n  }\n  updateProperties(properties) {\n    this.properties = properties;\n  }\n  init() {\n    this.cellsElement = this.properties.cellsElement;\n    this.visibleWidth = this.properties.visibleWidth || this.cellsElement.parentElement.clientWidth;\n  }\n  destroy() {\n    clearInterval(this.autoplayId);\n  }\n  lineUpCells() {\n    this.cells.lineUp();\n  }\n  handleTransitionend() {\n    this.slide.handleTransitionend();\n  }\n  getImage(index) {\n    return this.cells.getImage(index);\n  }\n  next(length = 1) {\n    if (!this.isNextArrowDisabled()) {\n      this.slide.next(length);\n    }\n  }\n  prev(length = 1) {\n    this.slide.prev(length);\n  }\n  autoplay() {\n    this.autoplayId = setInterval(() => {\n      this.next();\n    }, this.properties.autoplayInterval);\n  }\n  stopAutoplay() {\n    if (this.autoplayId) {\n      clearInterval(this.autoplayId);\n    }\n  }\n}\nclass Container {\n  constructor(carouselProperties, utils, cells) {\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.cells = cells;\n    /* The index of the new position relative to\r\n     * the active index, for example -1 or +1\r\n     */\n    this.newPositionIndex = 0;\n    this.isPositionCorrection = false;\n    this.initialPositionX = 0;\n    this.initialElementPositionX = 0;\n    this.isLocked = true;\n    this.pullLimit = 100;\n    this.startTime = 0;\n    this.startX = 0;\n    this.moveX = 0;\n    this.isSwipeInProgress = false;\n    this.init();\n  }\n  get visibleWidth() {\n    return this.utils.visibleWidth;\n  }\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n  get images() {\n    return this.carouselProperties.images;\n  }\n  get element() {\n    return this.carouselProperties.cellsElement;\n  }\n  get freeScroll() {\n    return this.carouselProperties.freeScroll;\n  }\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n  get transitionDuration() {\n    return this.carouselProperties.transitionDuration;\n  }\n  get transitionTimingFunction() {\n    return this.carouselProperties.transitionTimingFunction;\n  }\n  get cellLength() {\n    if (this.images) {\n      return this.images.length;\n    } else {\n      return this.cells.cellLength;\n    }\n  }\n  get cellLengthInLightDOMMode() {\n    if (this.images) {\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n      if (cellLength > this.images.length) {\n        cellLength = this.images.length;\n      }\n      return cellLength;\n    } else {\n      return this.cellLength;\n    }\n  }\n  get tooFewCells() {\n    return this.numberOfVisibleCells > this.cellLength;\n  }\n  get disabled() {\n    return this.tooFewCells;\n  }\n  get margin() {\n    return this.carouselProperties.margin;\n  }\n  get isLightDOM() {\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n  }\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n  init() {\n    this.setWidth();\n  }\n  handleTouchstart() {\n    this.startX = this.utils.getStartX(event);\n    this.startTime = new Date().getTime();\n    this.initialElementPositionX = this.getInitialElementPositionX();\n  }\n  handleHorizontalSwipe() {\n    if (this.disabled) {\n      return;\n    }\n    if (!this.isSwipeInProgress) {\n      this.startX = this.utils.getStartX(event);\n      this.startTime = new Date().getTime();\n      this.initialElementPositionX = this.getInitialElementPositionX();\n    }\n    this.isSwipeInProgress = true;\n    this.moveX = this.utils.getMoveX(event);\n    this.move();\n  }\n  handleTouchend(simpleProcessing = false) {\n    if (this.disabled) {\n      return;\n    }\n    /* If touchend was passed to the Slide class */\n    if (simpleProcessing) {\n      this.isSwipeInProgress = false;\n      return;\n    }\n    this.isSwipeInProgress = false;\n    this.finishMoving();\n    this.clearInitialValues();\n  }\n  move() {\n    let positionX = this.getMovePositionX();\n    const isPulled = this.detectPulled();\n    const direction = this.getDirection();\n    if (isPulled) {\n      if (isPulled.edge === \"left\" && direction === \"right\" || isPulled.edge === \"right\" && direction === \"left\") {\n        positionX = this.slowdownOnPull(positionX);\n      }\n    }\n    this.transformPositionX(positionX, 0);\n    if (this.freeScroll) {\n      this.initialPositionX = positionX;\n    }\n    if (isPulled) {\n      if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\n        this.initialPositionX = 0;\n      }\n      if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\n        this.initialPositionX = positionX;\n      }\n    }\n  }\n  getMovePositionX() {\n    const distance = this.getDistance();\n    return this.initialElementPositionX - distance;\n  }\n  getDistance() {\n    return this.startX - this.moveX;\n  }\n  /* If the container is pulled out of the left or right border */\n  detectPulled() {\n    const currentPositionX = this.getCurrentPositionX();\n    if (currentPositionX > 0) {\n      return {\n        edge: 'left',\n        positionX: currentPositionX,\n        overflowX: Math.abs(currentPositionX)\n      };\n    }\n    if (currentPositionX < this.getEndPosition()) {\n      return {\n        edge: 'right',\n        positionX: currentPositionX,\n        overflowX: Math.abs(currentPositionX - this.getEndPosition())\n      };\n    }\n    return undefined;\n  }\n  slowdownOnPull(_positionX) {\n    let distance = Math.abs(this.getDistance());\n    const endPosition = this.getEndPosition();\n    const isPulled = this.detectPulled();\n    if (!isPulled) {\n      return 0;\n    }\n    const decelerationRatio = 3 + isPulled.overflowX / 50;\n    let positionX = 0;\n    if (isPulled.edge === 'left') {\n      if (this.initialElementPositionX < 0) {\n        distance = distance - Math.abs(this.initialElementPositionX);\n      }\n      const rubberPositionX = distance / decelerationRatio;\n      positionX = rubberPositionX;\n      if (this.initialElementPositionX > 0) {\n        positionX = this.initialElementPositionX + rubberPositionX;\n      }\n      if (positionX > this.pullLimit) {\n        positionX = this.pullLimit;\n      }\n    }\n    if (isPulled.edge === 'right') {\n      const rubberPositionX = endPosition + (this.initialElementPositionX - distance - endPosition) / decelerationRatio;\n      const containerWidth = this.getWidth();\n      positionX = rubberPositionX;\n      if (this.initialElementPositionX < -(containerWidth - this.visibleWidth)) {\n        positionX = containerWidth - this.visibleWidth + this.initialElementPositionX + rubberPositionX;\n      }\n      if (positionX < endPosition - this.pullLimit) {\n        positionX = endPosition - this.pullLimit;\n      }\n    }\n    return positionX;\n  }\n  finishMoving() {\n    const positionX = this.getMovePositionX();\n    let newPositionX = 0;\n    if (this.freeScroll) {\n      newPositionX = this.getInertia();\n    }\n    /* Align container while pulling */\n    newPositionX = this.getAlignedPositionOnPull(newPositionX);\n    this.transformPositionX(newPositionX);\n    this.setInitialPosition(positionX);\n  }\n  /* Returns the new position of the container with inertia */\n  getInertia() {\n    const distance = this.getDistance();\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this.startTime;\n    let inertia = distance / tapLength * 100;\n    return this.initialPositionX - inertia;\n  }\n  getAlignedPositionOnPull(newPositionX) {\n    const direction = this.getDirection();\n    if (direction === 'left') {\n      let endPosition = this.getEndPosition();\n      if (newPositionX < endPosition) {\n        return endPosition;\n      }\n    }\n    if (direction === 'right') {\n      if (newPositionX > 0) {\n        return 0;\n      }\n    }\n    return newPositionX;\n  }\n  getCurrentPositionX() {\n    const parentPosition = this.element.parentElement.getBoundingClientRect();\n    const position = this.element.getBoundingClientRect();\n    return position.left - parentPosition.left;\n  }\n  getEndPosition() {\n    if (this.isLightDOM) {\n      let imagesInContainer = this.cells.imageUtils.getImages();\n      return -(imagesInContainer.length * this.fullCellWidth - this.visibleWidth - this.margin);\n    } else {\n      const width = this.getWidth();\n      const visibleWidth = this.element.parentElement.clientWidth;\n      return visibleWidth - width;\n    }\n  }\n  transformPositionX(value, duration = this.transitionDuration) {\n    if (value === undefined) {\n      return;\n    }\n    this.element.style.transition = 'transform ' + duration + 'ms ' + this.transitionTimingFunction;\n    this.element.style.transform = 'translateX(' + value + 'px)';\n  }\n  getWidth() {\n    let width = this.cellLengthInLightDOMMode * this.fullCellWidth;\n    let totalImageWidth = this.cellLength * this.fullCellWidth;\n    if (totalImageWidth < width) {\n      width = totalImageWidth;\n    }\n    return this.isLightDOM ? width : totalImageWidth;\n  }\n  setWidth() {\n    const width = this.getWidth();\n    this.element.style.width = width + \"px\";\n  }\n  setInitialPosition(position) {\n    this.initialPositionX = position;\n  }\n  getElementPosition() {\n    return this.element.getBoundingClientRect();\n  }\n  getInitialElementPositionX() {\n    const carouselElementPosition = this.utils.getCarouselElementPosition()['left'];\n    return this.getElementPosition()['left'] - carouselElementPosition;\n  }\n  clearInitialValues() {\n    this.startX = this.moveX = 0;\n  }\n  getDirection() {\n    const direction = Math.sign(this.startX - this.moveX);\n    if (direction === -1) {\n      return 'right';\n    }\n    if (direction === 1) {\n      return 'left';\n    }\n    return undefined;\n  }\n}\nclass ImageUtils {\n  constructor(element) {\n    this.cellStack = [];\n    this.element = element;\n  }\n  getImages() {\n    return this.cellStack.filter(this.filter);\n  }\n  filter(cell) {\n    return cell.img !== undefined;\n  }\n}\nclass Cells {\n  constructor(carouselProperties, utils) {\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.counter = 0;\n    this.imageUtils = new ImageUtils(this.element);\n    this.init(carouselProperties);\n  }\n  get images() {\n    return this.carouselProperties.images;\n  }\n  get cellLength() {\n    return this.cells ? this.cells.length : 0;\n  }\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n  get cellLengthInLightDOMMode() {\n    if (this.images) {\n      let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n      if (cellLength > this.images.length) {\n        cellLength = this.images.length;\n      }\n      return cellLength;\n    } else {\n      return this.cellLength;\n    }\n  }\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n  get isLightDOM() {\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n  }\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n  lineUp() {\n    const cells = this.element ? this.element.children : [];\n    this.imageUtils.cellStack = [];\n    for (var i = 0; i < cells.length; i++) {\n      let cell = cells[i];\n      let positionX = this.getCellPositionInContainer(i);\n      cell.style.transform = 'translateX(' + positionX + 'px)';\n      cell.style.width = this.carouselProperties.cellWidth + 'px';\n      if (this.getImage(i)) {\n        this.imageUtils.cellStack.push({\n          index: i,\n          positionX,\n          img: this.getImage(i)['image']\n        });\n      }\n    }\n    ;\n  }\n  ifSequenceOfCellsIsChanged() {\n    const cells = this.element.children;\n    return cells[0]['style'].transform !== 'translateX(0px)';\n  }\n  getCellPositionInContainer(cellIndexInDOMTree) {\n    let positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\n    return positionIndex * this.fullCellWidth;\n  }\n  getCellIndexInContainer(cellIndexInDOMTree) {\n    let positionIndex;\n    if (!this.isLightDOM) {\n      return cellIndexInDOMTree;\n    }\n    let cellLength = this.cellLengthInLightDOMMode;\n    let counter = this.counter - this.overflowCellsLimit;\n    if (counter > cellLength) {\n      counter = counter % cellLength;\n    }\n    if (counter < 0) {\n      return cellIndexInDOMTree;\n    } else {\n      positionIndex = cellIndexInDOMTree - counter;\n      if (positionIndex < 0) {\n        positionIndex = cellLength + positionIndex;\n      }\n    }\n    return positionIndex;\n  }\n  getImage(cellIndex) {\n    if (!this.images) {\n      return;\n    }\n    let imageIndex = this.getImageIndex(cellIndex);\n    let file = this.images[imageIndex];\n    if (file && !file.type) {\n      file.type = 'image';\n    }\n    return {\n      image: this.images[imageIndex],\n      imageIndex\n    };\n  }\n  getImageIndex(cellIndexInDOMTree) {\n    const positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\n    let imageIndex;\n    if (this.counter > this.overflowCellsLimit) {\n      let cellLimitOverflow = this.counter - this.overflowCellsLimit;\n      imageIndex = positionIndex + cellLimitOverflow;\n      if (this.images && this.carouselProperties.loop) {\n        imageIndex = imageIndex % this.images.length;\n      }\n    } else {\n      imageIndex = cellIndexInDOMTree;\n    }\n    return imageIndex;\n  }\n  setCounter(value) {\n    this.counter = value;\n  }\n  init(carouselProperties) {\n    this.element = this.carouselProperties.cellsElement;\n    this.cells = this.element.children;\n    this.visibleWidth = this.carouselProperties.visibleWidth || this.element.parentElement.clientWidth;\n  }\n}\nclass Slide {\n  constructor(carouselProperties, utils, cells, container) {\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.cells = cells;\n    this.container = container;\n    this.slideLength = 0;\n    this.isSlideInProgress = false;\n    this.counter = 0;\n    this._counter = 0;\n    this.distance = 0;\n    this.distanceAbs = 0;\n    this.isNotClickOnArrow = false;\n    this.initialPositionX = 0;\n    this.currentPositionX = 0;\n    /* The slide length has been limited by the limitSlideLength() method */\n    this.isSlideLengthLimited = false;\n    this.init();\n  }\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n  get margin() {\n    return this.carouselProperties.margin;\n  }\n  get minSwipeDistance() {\n    return this.carouselProperties.minSwipeDistance;\n  }\n  get numberOfVisibleCells() {\n    return this.utils.numberOfVisibleCells;\n  }\n  get visibleCellsOverflowContainer() {\n    return this.utils.visibleCellsOverflowContainer;\n  }\n  /* The position to which the container returns after each slide\r\n   * in the light DUM tree mode.\r\n   */\n  get fixedContainerPosition() {\n    return -(this.overflowCellsLimit * this.fullCellWidth);\n  }\n  get overflowCellsLimit() {\n    return this.utils.overflowCellsLimit;\n  }\n  get images() {\n    return this.carouselProperties.images;\n  }\n  /* Number of cell elements in the DUM tree */\n  get cellLength() {\n    if (this.isLightDOM) {\n      return this.cells.cellLengthInLightDOMMode;\n    } else {\n      if (this.images) {\n        return this.images.length;\n      } else {\n        return this.cells.cellLength;\n      }\n    }\n  }\n  get isLightDOM() {\n    return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n  }\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n    this.setVisibleWidth();\n  }\n  init() {\n    this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\n  }\n  handleTouchstart() {\n    /* Touchstart event is not called for arrow */\n    this.isNotClickOnArrow = true;\n    this.isSlideLengthLimited = false;\n    if (!this.isSlideInProgress) {\n      this.initialPositionX = this.container.getCurrentPositionX();\n    }\n  }\n  handleTouchend() {\n    if (!this.isNotClickOnArrow) {\n      return;\n    }\n    this.currentPositionX = this.container.getCurrentPositionX();\n    this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\n    this.distance = this.initialPositionX - this.currentPositionX;\n    this.direction = this.getDirection();\n    this.isNotClickOnArrow = false;\n    this.handleSlide();\n  }\n  handleTransitionend() {\n    this.setCounter();\n    this.isSlideInProgress = false;\n    if (this.isLightDOM) {\n      this.alignContainerFast();\n    }\n  }\n  handleSlide(customSlideLength = undefined) {\n    let isUsingButton = customSlideLength;\n    let newPositionX;\n    if (isUsingButton && this.isSlideInProgress || !this.direction) {\n      return;\n    }\n    /* Custom slide length is used in arrows */\n    if (customSlideLength) {\n      this.slideLength = this.limitSlideLength(customSlideLength);\n      if (!this.isSlideInProgress) {\n        this.initialPositionX = this.container.getCurrentPositionX();\n      }\n    } else {\n      this.slideLength = this.getSlideLength(this.distanceAbs);\n    }\n    /* Store intermediate counter value */\n    this._counter = this.getPreliminaryCounter();\n    if (this.direction === 'left') {\n      if (!customSlideLength) {\n        this.slideLength = this.limitSlideLength(this.getSlideLength(this.distanceAbs));\n      }\n      this._counter = this.getPreliminaryCounter();\n      let isSlidesEnd = this.isSlidesEnd(this._counter);\n      newPositionX = this.getPositionByIndex(this._counter);\n      if (isSlidesEnd) {\n        this._counter = this.counter;\n        newPositionX = this.getPositionByIndex(this.counter);\n        this.slideLength = 0;\n      }\n    }\n    if (this.direction === 'right') {\n      if (!customSlideLength) {\n        this.slideLength = this.getSlideLength(this.distanceAbs);\n      }\n      if (this._counter < 0) {\n        this._counter = this.counter;\n        this.slideLength = this.counter;\n      }\n      newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\n    }\n    if (this.container.getCurrentPositionX() !== newPositionX) {\n      this.isSlideInProgress = true;\n      this.container.transformPositionX(newPositionX);\n    }\n  }\n  next(length = 1) {\n    this.direction = 'left';\n    this.handleSlide(length);\n  }\n  prev(length = 1) {\n    this.direction = 'right';\n    this.handleSlide(length);\n  }\n  select(index) {\n    if (index > this.cellLength - 1) {\n      return;\n    }\n    if (index > this.counter) {\n      let length = index - this.counter;\n      this.next(length);\n    }\n    if (index < this.counter) {\n      let length = this.counter - index;\n      this.prev(length);\n    }\n  }\n  getPreliminaryCounter() {\n    if (this.direction === 'left') {\n      return this.counter + this.slideLength;\n    }\n    if (this.direction === 'right') {\n      return this.counter - this.slideLength;\n    }\n    return 0;\n  }\n  /*\r\n   * Limits the length of the slide during calls to the next() and prev()\r\n   * methods if the specified position is outside the cell length\r\n   */\n  limitSlideLength(slideLength) {\n    if (slideLength > 1) {\n      for (var i = 0; i < slideLength; i++) {\n        let newCounter = this.counter + (slideLength - i);\n        if (!this.isSlidesEnd(newCounter)) {\n          slideLength = slideLength - i;\n          this.isSlideLengthLimited = i > 0;\n          break;\n        }\n      }\n    }\n    return slideLength;\n  }\n  /* Offset the container to show the last cell completely */\n  getPositionCorrection(counter) {\n    let correction = 0;\n    let isLastSlide = this.isLastSlide(counter);\n    if (this.carouselProperties.loop || this.direction === \"right\") {\n      return 0;\n    }\n    if (this.isSlideLengthLimited || isLastSlide) {\n      let cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\n      if (this.visibleWidth < cellsWidth) {\n        correction = -(this.numberOfVisibleCells * this.fullCellWidth - this.visibleWidth - this.margin);\n      }\n      if (correction >= -this.margin) {\n        correction = 0;\n      }\n    }\n    return correction;\n  }\n  getSlideLength(distanceAbs) {\n    let isLastSlide = this.isLastSlide(this.counter);\n    /* If the last cell does not fit entirely, then the\r\n     * length of the swipe to the left, from the extreme\r\n     * right position, may be shorter than usual.\r\n     */\n    if (isLastSlide && this.direction === \"right\") {\n      distanceAbs = distanceAbs + this.visibleWidth % this.fullCellWidth;\n    }\n    let length = Math.floor(distanceAbs / this.fullCellWidth);\n    if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\n      length++;\n    }\n    return length;\n  }\n  getDistanceAbs() {\n    return Math.abs(this.initialPositionX - this.currentPositionX);\n  }\n  getDirection() {\n    const direction = Math.sign(this.initialPositionX - this.currentPositionX);\n    if (direction === -1) {\n      return 'right';\n    }\n    if (direction === 1) {\n      return 'left';\n    }\n    return undefined;\n  }\n  isSlidesEnd(counter) {\n    let margin = this.visibleCellsOverflowContainer ? 1 : 0;\n    let imageLength = this.images ? this.images.length : this.cells.cellLength;\n    if (this.carouselProperties.loop) {\n      return false;\n    } else {\n      return imageLength - counter + margin < this.numberOfVisibleCells;\n    }\n  }\n  isLastSlide(counter) {\n    return this.isSlidesEnd(counter + 1);\n  }\n  setCounter() {\n    if (this.direction === 'left') {\n      this.counter = this.counter + this.slideLength;\n    }\n    if (this.direction === 'right') {\n      this.counter = this.counter - this.slideLength;\n    }\n  }\n  getPositionByIndex(_counter) {\n    let correction = this.getPositionCorrection(this.counter + this.slideLength);\n    let position;\n    if (correction !== 0) {\n      correction = correction + this.fullCellWidth;\n    }\n    if (this.direction === 'right') {\n      correction = 0;\n    }\n    if (this.isLightDOM && this.isLightDOMMode(_counter) || this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter)) {\n      let initialPosition = this.getPositionWithoutCorrection(this.initialPositionX);\n      let counterDifference = _counter - this.counter;\n      position = initialPosition - (counterDifference * this.fullCellWidth - correction);\n    } else {\n      position = -(_counter * this.fullCellWidth - correction);\n    }\n    position = this.provideSafePosition(position);\n    return position;\n  }\n  provideSafePosition(position) {\n    const endPosition = this.container.getEndPosition();\n    if (this.direction === 'left') {\n      if (position > 0) {\n        position = 0;\n      }\n    }\n    if (this.direction === 'right') {\n      if (position < endPosition) {\n        position = endPosition;\n      }\n    }\n    return position;\n  }\n  getPositionWithoutCorrection(value) {\n    let remainder = Math.round(value) % this.fullCellWidth;\n    if (remainder !== 0) {\n      return value - (this.fullCellWidth + remainder);\n    } else {\n      return value;\n    }\n  }\n  isNextArrowDisabled() {\n    return this.isLastSlide(this.counter) || !this.visibleCellsOverflowContainer && this.cellLength <= this.numberOfVisibleCells || this.visibleCellsOverflowContainer && this.cellLength < this.numberOfVisibleCells;\n  }\n  isPrevArrowDisabled() {\n    return this.counter === 0;\n  }\n  alignContainerFast() {\n    if (this.isLightDOMMode(this.counter)) {\n      let positionX = this.fixedContainerPosition;\n      this.container.transformPositionX(positionX, 0);\n      this.cells.setCounter(this.counter);\n      this.cells.lineUp();\n    } else if (this.ifLeftDOMModeToBeginning(this.counter)) {\n      /* If we have already exited the light DOM mode but\r\n       * the cells are still out of place\r\n       */\n      if (this.cells.ifSequenceOfCellsIsChanged()) {\n        let positionX = -(this.counter * this.fullCellWidth);\n        this.container.transformPositionX(positionX, 0);\n        this.cells.setCounter(this.counter);\n        this.cells.lineUp();\n      }\n    } else if (this.ifLeftDOMModeAtEnd(this.counter)) {\n      let containerPositionX = this.container.getCurrentPositionX();\n      let containerWidth = this.container.getWidth();\n      this.visibleWidth;\n      if (this.isLastSlide(this.counter) && containerWidth + containerPositionX >= this.visibleWidth) {\n        return;\n      }\n      let correction = this.getPositionCorrection(this.counter);\n      if (correction !== 0) {\n        correction = correction + this.fullCellWidth;\n      }\n      if (this.direction === 'right') {\n        correction = 0;\n      }\n      let positionX = this.fixedContainerPosition + correction;\n      this.container.transformPositionX(positionX, 0);\n      this.cells.setCounter(this.counter);\n      this.cells.lineUp();\n    }\n  }\n  isLightDOMMode(counter) {\n    let flag;\n    let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\n    if (!this.isLightDOM) {\n      return false;\n    }\n    if (counter > this.overflowCellsLimit && this.direction === \"left\" && counter <= remainderOfCells) {\n      flag = true;\n    }\n    if (counter >= this.overflowCellsLimit && this.direction === \"right\" && counter < remainderOfCells) {\n      flag = true;\n    }\n    if (this.counter > this.overflowCellsLimit && this.direction === \"left\" && this.counter <= remainderOfCells) {\n      flag = true;\n    }\n    if (this.counter >= this.overflowCellsLimit && this.direction === \"right\" && this.counter < remainderOfCells) {\n      flag = true;\n    }\n    return flag;\n  }\n  ifLeftDOMModeAtEnd(counter) {\n    let flag;\n    let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\n    if (counter >= remainderOfCells) {\n      flag = true;\n    }\n    if (this.counter >= remainderOfCells) {\n      flag = true;\n    }\n    return flag;\n  }\n  ifLeftDOMModeToBeginning(counter) {\n    let flag;\n    if (counter <= this.overflowCellsLimit) {\n      flag = true;\n    }\n    if (this.counter <= this.overflowCellsLimit) {\n      flag = true;\n    }\n    return flag;\n  }\n  setVisibleWidth() {\n    this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\n  }\n}\nclass Utils {\n  constructor(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n  get images() {\n    return this.carouselProperties.images;\n  }\n  get margin() {\n    return this.carouselProperties.margin;\n  }\n  get overflowCellsLimit() {\n    if (this.images && this.isImagesLessCellLimit) {\n      let overflowCellsLimit = Math.floor((this.images.length - this.numberOfVisibleCells) / 2);\n      if (overflowCellsLimit < 0) {\n        overflowCellsLimit = 0;\n      }\n      return overflowCellsLimit;\n    } else {\n      return this.carouselProperties.overflowCellsLimit;\n    }\n  }\n  get isImagesLessCellLimit() {\n    return this.carouselProperties.overflowCellsLimit * 2 + this.numberOfVisibleCells > this.images.length;\n  }\n  get numberOfVisibleCells() {\n    return Math.ceil(this.visibleWidth / this.fullCellWidth);\n  }\n  get visibleCellsOverflowContainer() {\n    return this.numberOfVisibleCells * this.fullCellWidth - this.margin > this.visibleWidth;\n  }\n  get fullCellWidth() {\n    return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n  }\n  get visibleWidth() {\n    return this.carouselProperties.visibleWidth || this.carouselProperties.cellsElement.parentElement.clientWidth;\n  }\n  updateProperties(carouselProperties) {\n    this.carouselProperties = carouselProperties;\n  }\n  getStartX(event) {\n    const touches = event.touches;\n    const carouselElementPosition = this.getCarouselElementPosition()['left'];\n    let startX;\n    if (touches) {\n      startX = touches[0].clientX - carouselElementPosition;\n    } else {\n      startX = event.clientX - carouselElementPosition;\n    }\n    return startX;\n  }\n  getMoveX(event) {\n    const touches = event.touches;\n    const carouselElementPositionX = this.getCarouselElementPosition()['left'];\n    if (touches) {\n      return touches[0].clientX - carouselElementPositionX;\n    } else {\n      return event.clientX - carouselElementPositionX;\n    }\n  }\n  getCarouselElementPosition() {\n    return this.carouselProperties.hostElement.getBoundingClientRect();\n  }\n}\nclass CarouselComponent {\n  constructor(elementRef, ref) {\n    this.elementRef = elementRef;\n    this.ref = ref;\n    this.minTimeout = 30;\n    this.isVideoPlaying = false;\n    this._isCounter = false;\n    this._cellWidth = 200;\n    this._loop = false;\n    this._lightDOM = false;\n    this.isMoving = false;\n    this.isNgContent = false;\n    this.events = new EventEmitter();\n    this.height = 200;\n    this.autoplay = false;\n    this.autoplayInterval = 5000;\n    this.pauseOnHover = true;\n    this.dots = false;\n    this.margin = 10;\n    this.objectFit = 'cover';\n    this.minSwipeDistance = 10;\n    this.transitionDuration = 200;\n    this.transitionTimingFunction = 'ease-out';\n    this.counterSeparator = \" / \";\n    this.overflowCellsLimit = 3;\n    this.listeners = 'mouse and touch';\n    this.cellsToScroll = 1;\n    this.freeScroll = false;\n    this.arrows = true;\n    this.arrowsOutside = false;\n    this.arrowsTheme = 'light';\n    this.hostClassCarousel = true;\n    this.handleTouchstart = event => {\n      this.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\n      this.carousel.handleTouchstart(event);\n      this.isMoving = true;\n    };\n    this.handleHorizontalSwipe = event => {\n      event.preventDefault();\n      this.carousel.handleHorizontalSwipe(event);\n    };\n    this.handleTouchend = event => {\n      const touches = event.touches;\n      this.carousel.handleTouchend(event);\n      this.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\n      this.isMoving = false;\n    };\n    this.handleTap = event => {\n      let outboundEvent = {\n        name: 'click'\n      };\n      let nodes = Array.prototype.slice.call(this.cellsElement.children);\n      let cellElement = event.srcElement.closest(\".carousel-cell\");\n      const i = nodes.indexOf(cellElement);\n      const cellIndex = nodes.indexOf(cellElement);\n      if (this.images) {\n        //outboundEvent.fileIndex = this.carousel.getFileIndex(i);\n        //outboundEvent.file = this.carousel.getFile(cellIndex);\n      } else {\n        outboundEvent.cellIndex = cellIndex;\n      }\n    };\n  }\n  get isContainerLocked() {\n    if (this.carousel) {\n      return this.carousel.isContainerLocked;\n    }\n  }\n  get slideCounter() {\n    if (this.carousel) {\n      return this.carousel.slideCounter;\n    }\n  }\n  get lapCounter() {\n    if (this.carousel) {\n      return this.carousel.lapCounter;\n    }\n  }\n  get isLandscape() {\n    return window.innerWidth > window.innerHeight;\n  }\n  get isSafari() {\n    const ua = navigator.userAgent.toLowerCase();\n    if (ua.indexOf('safari') !== -1) {\n      return !(ua.indexOf('chrome') > -1);\n    }\n  }\n  get counter() {\n    let counter;\n    if (this.loop) {\n      counter = this.slideCounter % this.cellLength;\n    } else {\n      counter = this.slideCounter;\n    }\n    return counter + 1 + this.counterSeparator + this.cellLength;\n  }\n  get cellsElement() {\n    return this.elementRef.nativeElement.querySelector('.carousel-cells');\n  }\n  get isArrows() {\n    return this.arrows && !this.freeScroll;\n  }\n  get isCounter() {\n    return this._isCounter && this.cellLength > 1;\n  }\n  get activeDotIndex() {\n    return this.slideCounter % this.cellLength;\n  }\n  get cellLimit() {\n    if (this.carousel) {\n      return this.carousel.cellLimit;\n    }\n  }\n  get carouselWidth() {\n    return this.elementRef.nativeElement.clientWidth;\n  }\n  set images(images) {\n    this._images = images;\n  }\n  get images() {\n    return this._images;\n  }\n  set cellWidth(value) {\n    if (value) {\n      this._cellWidth = value;\n    }\n  }\n  set isCounter(value) {\n    if (value) {\n      this._isCounter = value;\n    }\n  }\n  set loop(value) {\n    if (value) {\n      this._loop = value;\n    }\n  }\n  get loop() {\n    if (this.images) {\n      return this._loop;\n    } else {\n      return false;\n    }\n  }\n  set lightDOM(value) {\n    if (value) {\n      this._lightDOM = value;\n    }\n  }\n  get lightDOM() {\n    if (this.images) {\n      return this._lightDOM;\n    } else {\n      return false;\n    }\n  }\n  onWindowResize(event) {\n    if (this.utils.visibleWidth !== this.savedCarouselWidth) {\n      this.resize();\n    }\n  }\n  onMousemove(event) {\n    if (this.autoplay && this.pauseOnHover) {\n      this.carousel.stopAutoplay();\n    }\n  }\n  onMouseleave(event) {\n    if (this.autoplay && this.pauseOnHover) {\n      this.carousel.autoplay();\n    }\n  }\n  ngOnInit() {\n    this.isNgContent = this.cellsElement.children.length > 0;\n    this.touches = new Touches({\n      element: this.cellsElement,\n      listeners: this.listeners,\n      mouseListeners: {\n        \"mousedown\": \"handleMousedown\",\n        \"mouseup\": \"handleMouseup\"\n      }\n    });\n    this.touches.on('touchstart', this.handleTouchstart);\n    this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\n    this.touches.on('touchend', this.handleTouchend);\n    this.touches.on('mousedown', this.handleTouchstart);\n    this.touches.on('mouseup', this.handleTouchend);\n    this.touches.on('tap', this.handleTap);\n    this.setDimensions();\n  }\n  ngAfterViewInit() {\n    this.initCarousel();\n    this.cellLength = this.getCellLength();\n    this.dotsArr = Array(this.cellLength).fill(1);\n    this.ref.detectChanges();\n    this.carousel.lineUpCells();\n    this.savedCarouselWidth = this.carouselWidth;\n    /* Start detecting changes in the DOM tree */\n    this.detectDomChanges();\n  }\n  ngOnChanges(changes) {\n    if (changes.width || changes.height || changes.images) {\n      this.setDimensions();\n      this.initCarousel();\n      this.carousel.lineUpCells();\n      this.ref.detectChanges();\n    }\n  }\n  ngOnDestroy() {\n    this.touches.destroy();\n    //this.carousel.destroy();\n  }\n\n  initCarousel() {\n    this.carouselProperties = {\n      id: this.id,\n      cellsElement: this.elementRef.nativeElement.querySelector('.carousel-cells'),\n      hostElement: this.elementRef.nativeElement,\n      images: this.images,\n      cellWidth: this.getCellWidth(),\n      loop: this.loop,\n      autoplayInterval: this.autoplayInterval,\n      overflowCellsLimit: this.overflowCellsLimit,\n      visibleWidth: this.width,\n      margin: this.margin,\n      minSwipeDistance: this.minSwipeDistance,\n      transitionDuration: this.transitionDuration,\n      transitionTimingFunction: this.transitionTimingFunction,\n      videoProperties: this.videoProperties,\n      eventHandler: this.events,\n      freeScroll: this.freeScroll,\n      lightDOM: this.lightDOM\n    };\n    this.utils = new Utils(this.carouselProperties);\n    this.cells = new Cells(this.carouselProperties, this.utils);\n    this.container = new Container(this.carouselProperties, this.utils, this.cells);\n    this.slide = new Slide(this.carouselProperties, this.utils, this.cells, this.container);\n    this.carousel = new Carousel(this.carouselProperties, this.utils, this.cells, this.container, this.slide);\n    if (this.autoplay) {\n      this.carousel.autoplay();\n    }\n  }\n  resize() {\n    this.landscapeMode = this.isLandscape;\n    this.savedCarouselWidth = this.carouselWidth;\n    this.carouselProperties.cellWidth = this.getCellWidth();\n    this.cells.updateProperties(this.carouselProperties);\n    this.carousel.updateProperties(this.carouselProperties);\n    this.container.updateProperties(this.carouselProperties);\n    this.slide.updateProperties(this.carouselProperties);\n    this.utils.updateProperties(this.carouselProperties);\n    this.carousel.lineUpCells();\n    this.slide.select(0);\n    this.ref.detectChanges();\n  }\n  detectDomChanges() {\n    const observer = new MutationObserver(mutations => {\n      this.onDomChanges();\n    });\n    var config = {\n      attributes: true,\n      childList: true,\n      characterData: true\n    };\n    observer.observe(this.cellsElement, config);\n  }\n  onDomChanges() {\n    this.cellLength = this.getCellLength();\n    this.carousel.lineUpCells();\n    this.ref.detectChanges();\n  }\n  setDimensions() {\n    this.hostStyleHeight = this.height + 'px';\n    this.hostStyleWidth = this.width + 'px';\n  }\n  getImage(index) {\n    return this.carousel.getImage(index);\n  }\n  handleTransitionendCellContainer(event) {\n    if (event.target['className'] === 'carousel-cells') {\n      this.carousel.handleTransitionend();\n    }\n  }\n  getCellWidth() {\n    let elementWidth = this.carouselWidth;\n    if (this.cellsToShow) {\n      let margin = this.cellsToShow > 1 ? this.margin : 0;\n      let totalMargin = margin * (this.cellsToShow - 1);\n      return (elementWidth - totalMargin) / this.cellsToShow;\n    }\n    if (this._cellWidth === '100%') {\n      return elementWidth;\n    } else {\n      return this._cellWidth;\n    }\n  }\n  next() {\n    this.carousel.next(this.cellsToScroll);\n    this.carousel.stopAutoplay();\n  }\n  prev() {\n    this.carousel.prev(this.cellsToScroll);\n    this.carousel.stopAutoplay();\n  }\n  isNextArrowDisabled() {\n    if (this.carousel) {\n      return this.carousel.isNextArrowDisabled();\n    }\n  }\n  isPrevArrowDisabled() {\n    if (this.carousel) {\n      return this.carousel.isPrevArrowDisabled();\n    }\n  }\n  getCellLength() {\n    if (this.images) {\n      return this.images.length;\n    } else {\n      return this.cellsElement.children.length;\n    }\n  }\n}\nCarouselComponent.ɵfac = function CarouselComponent_Factory(t) {\n  return new (t || CarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\nCarouselComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: CarouselComponent,\n  selectors: [[\"carousel\"], [\"\", \"carousel\", \"\"]],\n  hostVars: 6,\n  hostBindings: function CarouselComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"resize\", function CarouselComponent_resize_HostBindingHandler($event) {\n        return ctx.onWindowResize($event);\n      }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function CarouselComponent_mousemove_HostBindingHandler($event) {\n        return ctx.onMousemove($event);\n      })(\"mouseleave\", function CarouselComponent_mouseleave_HostBindingHandler($event) {\n        return ctx.onMouseleave($event);\n      });\n    }\n    if (rf & 2) {\n      ɵngcc0.ɵɵstyleProp(\"height\", ctx.hostStyleHeight)(\"width\", ctx.hostStyleWidth);\n      ɵngcc0.ɵɵclassProp(\"carousel\", ctx.hostClassCarousel);\n    }\n  },\n  inputs: {\n    height: \"height\",\n    autoplay: \"autoplay\",\n    autoplayInterval: \"autoplayInterval\",\n    pauseOnHover: \"pauseOnHover\",\n    dots: \"dots\",\n    margin: \"margin\",\n    objectFit: \"objectFit\",\n    minSwipeDistance: \"minSwipeDistance\",\n    transitionDuration: \"transitionDuration\",\n    transitionTimingFunction: \"transitionTimingFunction\",\n    counterSeparator: \"counterSeparator\",\n    overflowCellsLimit: \"overflowCellsLimit\",\n    listeners: \"listeners\",\n    cellsToScroll: \"cellsToScroll\",\n    freeScroll: \"freeScroll\",\n    arrows: \"arrows\",\n    arrowsOutside: \"arrowsOutside\",\n    arrowsTheme: \"arrowsTheme\",\n    isCounter: [\"counter\", \"isCounter\"],\n    images: \"images\",\n    cellWidth: \"cellWidth\",\n    loop: \"loop\",\n    lightDOM: \"lightDOM\",\n    id: \"id\",\n    width: \"width\",\n    borderRadius: \"borderRadius\",\n    videoProperties: \"videoProperties\",\n    cellsToShow: \"cellsToShow\"\n  },\n  outputs: {\n    events: \"events\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c0,\n  decls: 8,\n  vars: 6,\n  consts: [[\"class\", \"carousel-counter\", 4, \"ngIf\"], [1, \"carousel-container\"], [1, \"carousel-cells\", 3, \"transitionend\"], [\"cells\", \"\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"carousel-dots\", 4, \"ngIf\"], [\"class\", \"carousel-arrows\", 3, \"carousel-arrows-outside\", \"carousel-dark-arrows\", 4, \"ngIf\"], [1, \"carousel-counter\"], [\"class\", \"carousel-cell\", 3, \"width\", \"border-radius\", 4, \"ngIf\"], [1, \"carousel-cell\"], [\"draggable\", \"false\", 3, \"src\", \"object-fit\", 4, \"ngIf\"], [\"draggable\", \"false\", 3, \"src\"], [1, \"carousel-dots\"], [\"class\", \"carousel-dot\", 3, \"carousel-dot-active\", 4, \"ngFor\", \"ngForOf\"], [1, \"carousel-dot\"], [1, \"carousel-arrows\"], [1, \"carousel-arrow\", \"carousel-arrow-prev\", 3, \"click\"], [1, \"carousel-arrow\", \"carousel-arrow-next\", 3, \"click\"]],\n  template: function CarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, CarouselComponent_div_0_Template, 2, 1, \"div\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2, 3);\n      ɵngcc0.ɵɵlistener(\"transitionend\", function CarouselComponent_Template_div_transitionend_2_listener($event) {\n        return ctx.handleTransitionendCellContainer($event);\n      });\n      ɵngcc0.ɵɵprojection(4);\n      ɵngcc0.ɵɵtemplate(5, CarouselComponent_ng_template_5_Template, 1, 1, \"ng-template\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(6, CarouselComponent_div_6_Template, 2, 1, \"div\", 5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(7, CarouselComponent_div_7_Template, 3, 8, \"div\", 6);\n    }\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isCounter);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵclassProp(\"carousel-moving\", ctx.isMoving);\n      ɵngcc0.ɵɵadvance(4);\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.images);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.dots);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isArrows);\n    }\n  },\n  dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf],\n  styles: [\"[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}[_nghost-%COMP%]     .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}\"]\n});\nCarouselComponent.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: ChangeDetectorRef\n}];\nCarouselComponent.propDecorators = {\n  events: [{\n    type: Output\n  }],\n  id: [{\n    type: Input\n  }],\n  height: [{\n    type: Input\n  }],\n  width: [{\n    type: Input\n  }],\n  autoplay: [{\n    type: Input\n  }],\n  autoplayInterval: [{\n    type: Input\n  }],\n  pauseOnHover: [{\n    type: Input\n  }],\n  dots: [{\n    type: Input\n  }],\n  borderRadius: [{\n    type: Input\n  }],\n  margin: [{\n    type: Input\n  }],\n  objectFit: [{\n    type: Input\n  }],\n  minSwipeDistance: [{\n    type: Input\n  }],\n  transitionDuration: [{\n    type: Input\n  }],\n  transitionTimingFunction: [{\n    type: Input\n  }],\n  videoProperties: [{\n    type: Input\n  }],\n  counterSeparator: [{\n    type: Input\n  }],\n  overflowCellsLimit: [{\n    type: Input\n  }],\n  listeners: [{\n    type: Input\n  }],\n  cellsToShow: [{\n    type: Input\n  }],\n  cellsToScroll: [{\n    type: Input\n  }],\n  freeScroll: [{\n    type: Input\n  }],\n  arrows: [{\n    type: Input\n  }],\n  arrowsOutside: [{\n    type: Input\n  }],\n  arrowsTheme: [{\n    type: Input\n  }],\n  images: [{\n    type: Input\n  }],\n  cellWidth: [{\n    type: Input,\n    args: ['cellWidth']\n  }],\n  isCounter: [{\n    type: Input,\n    args: ['counter']\n  }],\n  loop: [{\n    type: Input,\n    args: ['loop']\n  }],\n  lightDOM: [{\n    type: Input,\n    args: ['lightDOM']\n  }],\n  hostClassCarousel: [{\n    type: HostBinding,\n    args: ['class.carousel']\n  }],\n  hostStyleHeight: [{\n    type: HostBinding,\n    args: ['style.height']\n  }],\n  hostStyleWidth: [{\n    type: HostBinding,\n    args: ['style.width']\n  }],\n  onWindowResize: [{\n    type: HostListener,\n    args: ['window:resize', ['$event']]\n  }],\n  onMousemove: [{\n    type: HostListener,\n    args: ['mousemove', ['$event']]\n  }],\n  onMouseleave: [{\n    type: HostListener,\n    args: ['mouseleave', ['$event']]\n  }]\n};\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CarouselComponent, [{\n    type: Component,\n    args: [{\n      selector: 'carousel, [carousel]',\n      template: \"<div class=\\\"carousel-counter\\\" *ngIf=\\\"isCounter\\\">{{counter}}</div>\\r\\n\\r\\n<div class=\\\"carousel-container\\\" [class.carousel-moving]=\\\"isMoving\\\">\\r\\n\\t<div class=\\\"carousel-cells\\\" #cells (transitionend)=\\\"handleTransitionendCellContainer($event)\\\">\\r\\n\\t\\t<ng-content></ng-content>\\r\\n\\r\\n\\t\\t<ng-template ngFor let-image [ngForOf]=\\\"images\\\" let-i=\\\"index\\\">\\r\\n\\t\\t\\t<div class=\\\"carousel-cell\\\" \\r\\n\\t\\t\\t\\t[style.width]=\\\"getCellWidth()+'px'\\\"\\r\\n\\t\\t\\t\\t[style.border-radius]=\\\"borderRadius+'px'\\\"\\r\\n\\t\\t\\t\\t*ngIf=\\\"i < cellLimit\\\">\\r\\n\\t\\t\\t\\t<!-- Image -->\\r\\n\\t\\t\\t\\t<img \\r\\n\\t\\t\\t\\t\\t*ngIf=\\\"getImage(i) && getImage(i)['image']\\\" \\r\\n\\t\\t\\t\\t\\t[src]=\\\"getImage(i)['image']['path']\\\"\\r\\n\\t\\t\\t\\t\\t[style.object-fit]=\\\"objectFit\\\"\\r\\n\\t\\t\\t\\t\\tdraggable=\\\"false\\\" />\\r\\n\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</ng-template>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"carousel-dots\\\" *ngIf=\\\"dots\\\">\\r\\n\\t\\t<div class=\\\"carousel-dot\\\" [class.carousel-dot-active]=\\\"i === activeDotIndex\\\" *ngFor=\\\"let dot of dotsArr; index as i\\\"></div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"carousel-arrows\\\" \\r\\n\\t[class.carousel-arrows-outside]=\\\"arrowsOutside\\\" \\r\\n\\t[class.carousel-dark-arrows]=\\\"arrowsTheme === 'dark'\\\"\\r\\n\\t*ngIf=\\\"isArrows\\\">\\r\\n\\t\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-prev\\\" [class.carousel-arrow-disabled]=\\\"isPrevArrowDisabled()\\\" (click)=\\\"prev()\\\"></div>\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-next\\\" [class.carousel-arrow-disabled]=\\\"isNextArrowDisabled()\\\" (click)=\\\"next()\\\"></div>\\r\\n</div>\",\n      styles: [\":host{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}:host .carousel-container{overflow:hidden;width:100%;height:100%;cursor:grab}:host .carousel-container.carousel-moving{cursor:grabbing}:host .carousel-counter{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}:host ::ng-deep .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}:host ::ng-deep .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}:host ::ng-deep .carousel-cells .carousel-cell img,:host ::ng-deep .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}:host ::ng-deep .carousel-cells .carousel-cell img.swiper-hide{display:none}:host ::ng-deep .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}:host .carousel-arrow{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}:host .carousel-arrow-prev{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}:host .carousel-arrow-next{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}:host .carousel-arrows-outside .carousel-arrow-prev{left:-60px}:host .carousel-arrows-outside .carousel-arrow-next{right:-60px}:host .carousel-dark-arrows .carousel-arrow{filter:invert(1)}:host .carousel-arrow-disabled{cursor:default;opacity:.5}:host .carousel-dots{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}:host .carousel-dots .carousel-dot{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}:host .carousel-dots .carousel-dot-active{background-color:#fff}\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    events: [{\n      type: Output\n    }],\n    height: [{\n      type: Input\n    }],\n    autoplay: [{\n      type: Input\n    }],\n    autoplayInterval: [{\n      type: Input\n    }],\n    pauseOnHover: [{\n      type: Input\n    }],\n    dots: [{\n      type: Input\n    }],\n    margin: [{\n      type: Input\n    }],\n    objectFit: [{\n      type: Input\n    }],\n    minSwipeDistance: [{\n      type: Input\n    }],\n    transitionDuration: [{\n      type: Input\n    }],\n    transitionTimingFunction: [{\n      type: Input\n    }],\n    counterSeparator: [{\n      type: Input\n    }],\n    overflowCellsLimit: [{\n      type: Input\n    }],\n    listeners: [{\n      type: Input\n    }],\n    cellsToScroll: [{\n      type: Input\n    }],\n    freeScroll: [{\n      type: Input\n    }],\n    arrows: [{\n      type: Input\n    }],\n    arrowsOutside: [{\n      type: Input\n    }],\n    arrowsTheme: [{\n      type: Input\n    }],\n    hostClassCarousel: [{\n      type: HostBinding,\n      args: ['class.carousel']\n    }],\n    isCounter: [{\n      type: Input,\n      args: ['counter']\n    }],\n    images: [{\n      type: Input\n    }],\n    cellWidth: [{\n      type: Input,\n      args: ['cellWidth']\n    }],\n    loop: [{\n      type: Input,\n      args: ['loop']\n    }],\n    lightDOM: [{\n      type: Input,\n      args: ['lightDOM']\n    }],\n    onWindowResize: [{\n      type: HostListener,\n      args: ['window:resize', ['$event']]\n    }],\n    onMousemove: [{\n      type: HostListener,\n      args: ['mousemove', ['$event']]\n    }],\n    onMouseleave: [{\n      type: HostListener,\n      args: ['mouseleave', ['$event']]\n    }],\n    hostStyleHeight: [{\n      type: HostBinding,\n      args: ['style.height']\n    }],\n    hostStyleWidth: [{\n      type: HostBinding,\n      args: ['style.width']\n    }],\n    id: [{\n      type: Input\n    }],\n    width: [{\n      type: Input\n    }],\n    borderRadius: [{\n      type: Input\n    }],\n    videoProperties: [{\n      type: Input\n    }],\n    cellsToShow: [{\n      type: Input\n    }]\n  });\n})();\nclass IvyCarouselModule {}\nIvyCarouselModule.ɵfac = function IvyCarouselModule_Factory(t) {\n  return new (t || IvyCarouselModule)();\n};\nIvyCarouselModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: IvyCarouselModule\n});\nIvyCarouselModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [CommonModule]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IvyCarouselModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [CarouselComponent],\n      imports: [CommonModule],\n      exports: [CarouselComponent],\n      providers: [],\n      bootstrap: [],\n      entryComponents: [CarouselComponent]\n    }]\n  }], null, null);\n})();\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(IvyCarouselModule, {\n    declarations: function () {\n      return [CarouselComponent];\n    },\n    imports: function () {\n      return [CommonModule];\n    },\n    exports: function () {\n      return [CarouselComponent];\n    }\n  });\n})();\n\n/*\r\n * Public API Surface of angular-responsive-carousel\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { CarouselComponent, IvyCarouselModule };","map":{"version":3,"names":["EventEmitter","Component","ElementRef","ChangeDetectorRef","Output","Input","HostBinding","HostListener","NgModule","CommonModule","ɵngcc0","ɵngcc1","CarouselComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","counter","CarouselComponent_ng_template_5_div_0_img_1_Template","ɵɵelement","i_r6","index","ctx_r8","ɵɵstyleProp","objectFit","ɵɵproperty","getImage","ɵɵsanitizeUrl","CarouselComponent_ng_template_5_div_0_Template","ɵɵtemplate","ctx_r7","getCellWidth","borderRadius","CarouselComponent_ng_template_5_Template","ctx_r2","cellLimit","CarouselComponent_div_6_div_1_Template","i_r13","ctx_r11","ɵɵclassProp","activeDotIndex","CarouselComponent_div_6_Template","ctx_r3","dotsArr","CarouselComponent_div_7_Template","_r15","ɵɵgetCurrentView","ɵɵlistener","CarouselComponent_div_7_Template_div_click_1_listener","ɵɵrestoreView","ctx_r14","ɵɵresetView","prev","CarouselComponent_div_7_Template_div_click_2_listener","ctx_r16","next","ctx_r4","arrowsOutside","arrowsTheme","isPrevArrowDisabled","isNextArrowDisabled","_c0","Touches","constructor","properties","eventType","undefined","handlers","startX","startY","lastTap","doubleTapMinTimeout","tapMinTimeout","touchstartTime","i","isMousedown","_touchListeners","_mouseListeners","_otherListeners","handleTouchstart","event","elementPosition","getElementPosition","Date","getTime","getTouchstartPosition","runHandler","handleTouchmove","touches","detectPan","detectPinch","detectLinearSwipe","swipeType","handleLinearSwipe","handleTouchend","detectDoubleTap","detectTap","length","handleMousedown","getMousedownPosition","handleMousemove","handleMouseup","handleWheel","handleResize","element","toggleEventListeners","touchListeners","mouseListeners","otherListeners","destroy","action","listeners","Object","assign","detectTouchScreen","resize","listener","handler","window","addEventListener","removeEventListener","document","passive","addEventListeners","removeEventListeners","getLinearSwipeType","eventName","response","currentTime","tapLength","clearTimeout","doubleTapTimeout","setTimeout","movementX","Math","abs","moveLeft","movementY","moveTop","getBoundingClientRect","clientX","left","clientY","top","prefixes","split","mq","query","matchMedia","matches","join","on","Carousel","utils","cells","container","slide","isSlideLengthLimited","isContentImages","isLazyLoad","isContainerLocked","alignCells","initialContainerPosition","containerPullLimit","handleHorizontalSwipe","freeScroll","init","cellLength","cellLengthInLightDOMMode","images","numberOfVisibleCells","overflowCellsLimit","lastCellIndex","isLightDOM","lightDOM","loop","margin","minSwipeDistance","transitionDuration","transitionTimingFunction","fullCellWidth","cellWidth","lapCounter","floor","slideCounter","updateProperties","cellsElement","visibleWidth","parentElement","clientWidth","clearInterval","autoplayId","lineUpCells","lineUp","handleTransitionend","autoplay","setInterval","autoplayInterval","stopAutoplay","Container","carouselProperties","newPositionIndex","isPositionCorrection","initialPositionX","initialElementPositionX","isLocked","pullLimit","startTime","moveX","isSwipeInProgress","tooFewCells","disabled","setWidth","getStartX","getInitialElementPositionX","getMoveX","move","simpleProcessing","finishMoving","clearInitialValues","positionX","getMovePositionX","isPulled","detectPulled","direction","getDirection","edge","slowdownOnPull","transformPositionX","overflowX","distance","getDistance","currentPositionX","getCurrentPositionX","getEndPosition","_positionX","endPosition","decelerationRatio","rubberPositionX","containerWidth","getWidth","newPositionX","getInertia","getAlignedPositionOnPull","setInitialPosition","inertia","parentPosition","position","imagesInContainer","imageUtils","getImages","width","value","duration","style","transition","transform","totalImageWidth","carouselElementPosition","getCarouselElementPosition","sign","ImageUtils","cellStack","filter","cell","img","Cells","children","getCellPositionInContainer","push","ifSequenceOfCellsIsChanged","cellIndexInDOMTree","positionIndex","getCellIndexInContainer","cellIndex","imageIndex","getImageIndex","file","type","image","cellLimitOverflow","setCounter","Slide","slideLength","isSlideInProgress","_counter","distanceAbs","isNotClickOnArrow","visibleCellsOverflowContainer","fixedContainerPosition","setVisibleWidth","hostElement","handleSlide","alignContainerFast","customSlideLength","isUsingButton","limitSlideLength","getSlideLength","getPreliminaryCounter","isSlidesEnd","getPositionByIndex","select","newCounter","getPositionCorrection","correction","isLastSlide","cellsWidth","getDistanceAbs","imageLength","isLightDOMMode","ifLeftDOMModeAtEnd","initialPosition","getPositionWithoutCorrection","counterDifference","provideSafePosition","remainder","round","ifLeftDOMModeToBeginning","containerPositionX","flag","remainderOfCells","Utils","isImagesLessCellLimit","ceil","carouselElementPositionX","CarouselComponent","elementRef","ref","minTimeout","isVideoPlaying","_isCounter","_cellWidth","_loop","_lightDOM","isMoving","isNgContent","events","height","pauseOnHover","dots","counterSeparator","cellsToScroll","arrows","hostClassCarousel","carousel","preventDefault","handleTap","outboundEvent","name","nodes","Array","prototype","slice","call","cellElement","srcElement","closest","indexOf","isLandscape","innerWidth","innerHeight","isSafari","ua","navigator","userAgent","toLowerCase","nativeElement","querySelector","isArrows","isCounter","carouselWidth","_images","onWindowResize","savedCarouselWidth","onMousemove","onMouseleave","ngOnInit","setDimensions","ngAfterViewInit","initCarousel","getCellLength","fill","detectChanges","detectDomChanges","ngOnChanges","changes","ngOnDestroy","id","videoProperties","eventHandler","landscapeMode","observer","MutationObserver","mutations","onDomChanges","config","attributes","childList","characterData","observe","hostStyleHeight","hostStyleWidth","handleTransitionendCellContainer","target","elementWidth","cellsToShow","totalMargin","ɵfac","CarouselComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","hostVars","hostBindings","CarouselComponent_HostBindings","CarouselComponent_resize_HostBindingHandler","$event","ɵɵresolveWindow","CarouselComponent_mousemove_HostBindingHandler","CarouselComponent_mouseleave_HostBindingHandler","inputs","outputs","features","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","consts","template","CarouselComponent_Template","ɵɵprojectionDef","CarouselComponent_Template_div_transitionend_2_listener","ɵɵprojection","dependencies","NgForOf","NgIf","styles","ctorParameters","propDecorators","args","ngDevMode","ɵsetClassMetadata","selector","IvyCarouselModule","IvyCarouselModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","providers","bootstrap","entryComponents","ngJitMode","ɵɵsetNgModuleScope"],"sources":["C:/Users/Nicol/source/repos/Zayaco/Hardware-Store/Ferretería/ClientApp/node_modules/angular-responsive-carousel/__ivy_ngcc__/fesm2015/angular-responsive-carousel.js"],"sourcesContent":["import { EventEmitter, Component, ElementRef, ChangeDetectorRef, Output, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction CarouselComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);\n} }\nfunction CarouselComponent_ng_template_5_div_0_img_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 11);\n} if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext(2).index;\n    const ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"object-fit\", ctx_r8.objectFit);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r8.getImage(i_r6)[\"image\"][\"path\"], ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction CarouselComponent_ng_template_5_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_ng_template_5_div_0_img_1_Template, 1, 3, \"img\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const i_r6 = ɵngcc0.ɵɵnextContext().index;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r7.getCellWidth() + \"px\")(\"border-radius\", ctx_r7.borderRadius + \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.getImage(i_r6) && ctx_r7.getImage(i_r6)[\"image\"]);\n} }\nfunction CarouselComponent_ng_template_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, CarouselComponent_ng_template_5_div_0_Template, 2, 5, \"div\", 8);\n} if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", i_r6 < ctx_r2.cellLimit);\n} }\nfunction CarouselComponent_div_6_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n} if (rf & 2) {\n    const i_r13 = ctx.index;\n    const ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"carousel-dot-active\", i_r13 === ctx_r11.activeDotIndex);\n} }\nfunction CarouselComponent_div_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_div_6_div_1_Template, 1, 2, \"div\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.dotsArr);\n} }\nfunction CarouselComponent_div_7_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r14 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r14.prev()); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(2, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_2_listener() { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r16 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r16.next()); });\n    ɵngcc0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"carousel-arrows-outside\", ctx_r4.arrowsOutside)(\"carousel-dark-arrows\", ctx_r4.arrowsTheme === \"dark\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isPrevArrowDisabled());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isNextArrowDisabled());\n} }\nconst _c0 = [\"*\"];\nclass Touches {\r\n    constructor(properties) {\r\n        this.eventType = undefined;\r\n        this.handlers = {};\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.lastTap = 0;\r\n        this.doubleTapMinTimeout = 300;\r\n        this.tapMinTimeout = 200;\r\n        this.touchstartTime = 0;\r\n        this.i = 0;\r\n        this.isMousedown = false;\r\n        this._touchListeners = {\r\n            \"touchstart\": \"handleTouchstart\",\r\n            \"touchmove\": \"handleTouchmove\",\r\n            \"touchend\": \"handleTouchend\"\r\n        };\r\n        this._mouseListeners = {\r\n            \"mousedown\": \"handleMousedown\",\r\n            \"mousemove\": \"handleMousemove\",\r\n            \"mouseup\": \"handleMouseup\",\r\n            \"wheel\": \"handleWheel\"\r\n        };\r\n        this._otherListeners = {\r\n            \"resize\": \"handleResize\"\r\n        };\r\n        /*\r\n         * Listeners\r\n         */\r\n        /* Touchstart */\r\n        this.handleTouchstart = (event) => {\r\n            this.elementPosition = this.getElementPosition();\r\n            this.touchstartTime = new Date().getTime();\r\n            if (this.eventType === undefined) {\r\n                this.getTouchstartPosition(event);\r\n            }\r\n            this.runHandler(\"touchstart\", event);\r\n        };\r\n        /* Touchmove */\r\n        this.handleTouchmove = (event) => {\r\n            const touches = event.touches;\r\n            // Pan\r\n            if (this.detectPan(touches)) {\r\n                this.runHandler(\"pan\", event);\r\n            }\r\n            // Pinch\r\n            if (this.detectPinch(event)) {\r\n                this.runHandler(\"pinch\", event);\r\n            }\r\n            // Linear swipe\r\n            switch (this.detectLinearSwipe(event)) {\r\n                case \"horizontal-swipe\":\r\n                    event.swipeType = \"horizontal-swipe\";\r\n                    this.runHandler(\"horizontal-swipe\", event);\r\n                    break;\r\n                case \"vertical-swipe\":\r\n                    event.swipeType = \"vertical-swipe\";\r\n                    this.runHandler(\"vertical-swipe\", event);\r\n                    break;\r\n            }\r\n            // Linear swipe\r\n            if (this.detectLinearSwipe(event) ||\r\n                this.eventType === 'horizontal-swipe' ||\r\n                this.eventType === 'vertical-swipe') {\r\n                this.handleLinearSwipe(event);\r\n            }\r\n        };\r\n        /* Touchend */\r\n        this.handleTouchend = (event) => {\r\n            const touches = event.touches;\r\n            // Double Tap\r\n            if (this.detectDoubleTap()) {\r\n                this.runHandler(\"double-tap\", event);\r\n            }\r\n            // Tap\r\n            this.detectTap();\r\n            this.runHandler(\"touchend\", event);\r\n            this.eventType = 'touchend';\r\n            if (touches && touches.length === 0) {\r\n                this.eventType = undefined;\r\n                this.i = 0;\r\n            }\r\n        };\r\n        /* Mousedown */\r\n        this.handleMousedown = (event) => {\r\n            this.isMousedown = true;\r\n            this.elementPosition = this.getElementPosition();\r\n            this.touchstartTime = new Date().getTime();\r\n            if (this.eventType === undefined) {\r\n                this.getMousedownPosition(event);\r\n            }\r\n            this.runHandler(\"mousedown\", event);\r\n        };\r\n        /* Mousemove */\r\n        this.handleMousemove = (event) => {\r\n            //event.preventDefault();\r\n            if (!this.isMousedown) {\r\n                return;\r\n            }\r\n            // Pan\r\n            this.runHandler(\"pan\", event);\r\n            // Linear swipe\r\n            switch (this.detectLinearSwipe(event)) {\r\n                case \"horizontal-swipe\":\r\n                    event.swipeType = \"horizontal-swipe\";\r\n                    this.runHandler(\"horizontal-swipe\", event);\r\n                    break;\r\n                case \"vertical-swipe\":\r\n                    event.swipeType = \"vertical-swipe\";\r\n                    this.runHandler(\"vertical-swipe\", event);\r\n                    break;\r\n            }\r\n            // Linear swipe\r\n            if (this.detectLinearSwipe(event) ||\r\n                this.eventType === 'horizontal-swipe' ||\r\n                this.eventType === 'vertical-swipe') {\r\n                this.handleLinearSwipe(event);\r\n            }\r\n        };\r\n        /* Mouseup */\r\n        this.handleMouseup = (event) => {\r\n            // Tap\r\n            this.detectTap();\r\n            this.isMousedown = false;\r\n            this.runHandler(\"mouseup\", event);\r\n            this.eventType = undefined;\r\n            this.i = 0;\r\n        };\r\n        /* Wheel */\r\n        this.handleWheel = (event) => {\r\n            this.runHandler(\"wheel\", event);\r\n        };\r\n        /* Resize */\r\n        this.handleResize = (event) => {\r\n            this.runHandler(\"resize\", event);\r\n        };\r\n        this.properties = properties;\r\n        this.element = this.properties.element;\r\n        this.elementPosition = this.getElementPosition();\r\n        this.toggleEventListeners('addEventListener');\r\n    }\r\n    get touchListeners() {\r\n        return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\r\n    }\r\n    get mouseListeners() {\r\n        return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\r\n    }\r\n    get otherListeners() {\r\n        return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\r\n    }\r\n    destroy() {\r\n        this.toggleEventListeners('removeEventListener');\r\n    }\r\n    toggleEventListeners(action) {\r\n        let listeners;\r\n        if (this.properties.listeners === 'mouse and touch') {\r\n            listeners = Object.assign(this.touchListeners, this.mouseListeners);\r\n        }\r\n        else {\r\n            listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\r\n        }\r\n        if (this.properties.resize) {\r\n            listeners = Object.assign(listeners, this.otherListeners);\r\n        }\r\n        for (var listener in listeners) {\r\n            const handler = listeners[listener];\r\n            // Window\r\n            if (listener === \"resize\") {\r\n                if (action === 'addEventListener') {\r\n                    window.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    window.removeEventListener(listener, this[handler], false);\r\n                }\r\n                // Document\r\n            }\r\n            else if (listener === 'mouseup' || listener === \"mousemove\") {\r\n                if (action === 'addEventListener') {\r\n                    document.addEventListener(listener, this[handler], { passive: false });\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    document.removeEventListener(listener, this[handler], false);\r\n                }\r\n                // Element\r\n            }\r\n            else {\r\n                if (action === 'addEventListener') {\r\n                    this.element.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    this.element.removeEventListener(listener, this[handler], false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    addEventListeners(listener) {\r\n        const handler = this._mouseListeners[listener];\r\n        window.addEventListener(listener, this[handler], false);\r\n    }\r\n    removeEventListeners(listener) {\r\n        const handler = this._mouseListeners[listener];\r\n        window.removeEventListener(listener, this[handler], false);\r\n    }\r\n    handleLinearSwipe(event) {\r\n        //event.preventDefault();\r\n        this.i++;\r\n        if (this.i > 3) {\r\n            this.eventType = this.getLinearSwipeType(event);\r\n        }\r\n        if (this.eventType === 'horizontal-swipe') {\r\n            this.runHandler('horizontal-swipe', event);\r\n        }\r\n        if (this.eventType === 'vertical-swipe') {\r\n            this.runHandler('vertical-swipe', event);\r\n        }\r\n    }\r\n    runHandler(eventName, response) {\r\n        if (this.handlers[eventName]) {\r\n            this.handlers[eventName](response);\r\n        }\r\n    }\r\n    /*\r\n     * Detection\r\n     */\r\n    detectPan(touches) {\r\n        return touches.length === 1 && !this.eventType || this.eventType === 'pan';\r\n    }\r\n    detectDoubleTap() {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.lastTap;\r\n        clearTimeout(this.doubleTapTimeout);\r\n        if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\r\n            return true;\r\n        }\r\n        else {\r\n            this.doubleTapTimeout = setTimeout(() => {\r\n                clearTimeout(this.doubleTapTimeout);\r\n            }, this.doubleTapMinTimeout);\r\n        }\r\n        this.lastTap = currentTime;\r\n        return undefined;\r\n    }\r\n    detectTap() {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.touchstartTime;\r\n        if (tapLength > 0) {\r\n            if (tapLength < this.tapMinTimeout) {\r\n                this.runHandler(\"tap\", event);\r\n            }\r\n            else {\r\n                this.runHandler(\"longtap\", event);\r\n            }\r\n        }\r\n    }\r\n    detectPinch(event) {\r\n        const touches = event.touches;\r\n        return (touches.length === 2 && this.eventType === undefined) || this.eventType === 'pinch';\r\n    }\r\n    detectLinearSwipe(event) {\r\n        const touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        }\r\n        else {\r\n            if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    getLinearSwipeType(event) {\r\n        if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\r\n            const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\r\n            const movementY = Math.abs(this.moveTop(0, event) - this.startY);\r\n            if ((movementY * 3) > movementX) {\r\n                return 'vertical-swipe';\r\n            }\r\n            else {\r\n                return 'horizontal-swipe';\r\n            }\r\n        }\r\n        else {\r\n            return this.eventType;\r\n        }\r\n    }\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n    getTouchstartPosition(event) {\r\n        this.startX = event.touches[0].clientX - this.elementPosition.left;\r\n        this.startY = event.touches[0].clientY - this.elementPosition.top;\r\n    }\r\n    getMousedownPosition(event) {\r\n        this.startX = event.clientX - this.elementPosition.left;\r\n        this.startY = event.clientY - this.elementPosition.top;\r\n    }\r\n    moveLeft(index, event) {\r\n        const touches = event.touches;\r\n        if (touches) {\r\n            return touches[index].clientX - this.elementPosition.left;\r\n        }\r\n        else {\r\n            return event.clientX - this.elementPosition.left;\r\n        }\r\n    }\r\n    moveTop(index, event) {\r\n        const touches = event.touches;\r\n        if (touches) {\r\n            return touches[index].clientY - this.elementPosition.top;\r\n        }\r\n        else {\r\n            return event.clientY - this.elementPosition.top;\r\n        }\r\n    }\r\n    detectTouchScreen() {\r\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n        var mq = function (query) {\r\n            return window.matchMedia(query).matches;\r\n        };\r\n        if (('ontouchstart' in window)) {\r\n            return true;\r\n        }\r\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n        // https://git.io/vznFH\r\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\r\n        return mq(query);\r\n    }\r\n    /* Public properties and methods */\r\n    on(event, handler) {\r\n        if (event) {\r\n            this.handlers[event] = handler;\r\n        }\r\n    }\r\n}\n\nclass Carousel {\r\n    constructor(properties, utils, cells, container, slide) {\r\n        this.properties = properties;\r\n        this.utils = utils;\r\n        this.cells = cells;\r\n        this.container = container;\r\n        this.slide = slide;\r\n        /* The slide length has been limited by the limitSlideLength() method */\r\n        this.isSlideLengthLimited = false;\r\n        this.isContentImages = true;\r\n        this.isLazyLoad = true;\r\n        this.isContainerLocked = true;\r\n        this.alignCells = \"left\";\r\n        this.initialContainerPosition = 0;\r\n        this.containerPullLimit = 100;\r\n        this.handleTouchstart = (event) => {\r\n            this.container.handleTouchstart();\r\n            this.slide.handleTouchstart(event);\r\n        };\r\n        this.handleHorizontalSwipe = (event) => {\r\n            this.container.handleHorizontalSwipe();\r\n        };\r\n        this.handleTouchend = (event) => {\r\n            if (this.properties.freeScroll) {\r\n                this.container.handleTouchend();\r\n            }\r\n            else {\r\n                this.container.handleTouchend(true);\r\n                this.slide.handleTouchend(event);\r\n            }\r\n        };\r\n        this.isNextArrowDisabled = () => {\r\n            return this.slide.isNextArrowDisabled();\r\n        };\r\n        this.isPrevArrowDisabled = () => {\r\n            return this.slide.isPrevArrowDisabled();\r\n        };\r\n        this.init();\r\n    }\r\n    get cellLength() {\r\n        return this.cells.cellLength;\r\n    }\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        }\r\n        else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n    get lastCellIndex() {\r\n        return this.images.length ? (this.images.length - 1) : (this.cells.cellLength - 1);\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get cellLimit() {\r\n        if (this.isLightDOM) {\r\n            let cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLimit < this.numberOfVisibleCells) {\r\n                cellLimit = this.numberOfVisibleCells;\r\n            }\r\n            return cellLimit;\r\n        }\r\n        else {\r\n            return this.properties.images.length;\r\n        }\r\n    }\r\n    get isLightDOM() {\r\n        return this.properties.lightDOM || this.properties.loop;\r\n    }\r\n    get images() {\r\n        return this.properties.images;\r\n    }\r\n    get margin() {\r\n        return this.properties.margin;\r\n    }\r\n    get minSwipeDistance() {\r\n        return this.properties.minSwipeDistance;\r\n    }\r\n    get transitionDuration() {\r\n        return this.properties.transitionDuration;\r\n    }\r\n    get transitionTimingFunction() {\r\n        return this.properties.transitionTimingFunction;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.properties.cellWidth + this.margin;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get lapCounter() {\r\n        return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\r\n    }\r\n    get slideCounter() {\r\n        return this.slide.counter;\r\n    }\r\n    updateProperties(properties) {\r\n        this.properties = properties;\r\n    }\r\n    init() {\r\n        this.cellsElement = this.properties.cellsElement;\r\n        this.visibleWidth = this.properties.visibleWidth || this.cellsElement.parentElement.clientWidth;\r\n    }\r\n    destroy() {\r\n        clearInterval(this.autoplayId);\r\n    }\r\n    lineUpCells() {\r\n        this.cells.lineUp();\r\n    }\r\n    handleTransitionend() {\r\n        this.slide.handleTransitionend();\r\n    }\r\n    getImage(index) {\r\n        return this.cells.getImage(index);\r\n    }\r\n    next(length = 1) {\r\n        if (!this.isNextArrowDisabled()) {\r\n            this.slide.next(length);\r\n        }\r\n    }\r\n    prev(length = 1) {\r\n        this.slide.prev(length);\r\n    }\r\n    autoplay() {\r\n        this.autoplayId = setInterval(() => {\r\n            this.next();\r\n        }, this.properties.autoplayInterval);\r\n    }\r\n    stopAutoplay() {\r\n        if (this.autoplayId) {\r\n            clearInterval(this.autoplayId);\r\n        }\r\n    }\r\n}\n\nclass Container {\r\n    constructor(carouselProperties, utils, cells) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.utils = utils;\r\n        this.cells = cells;\r\n        /* The index of the new position relative to\r\n         * the active index, for example -1 or +1\r\n         */\r\n        this.newPositionIndex = 0;\r\n        this.isPositionCorrection = false;\r\n        this.initialPositionX = 0;\r\n        this.initialElementPositionX = 0;\r\n        this.isLocked = true;\r\n        this.pullLimit = 100;\r\n        this.startTime = 0;\r\n        this.startX = 0;\r\n        this.moveX = 0;\r\n        this.isSwipeInProgress = false;\r\n        this.init();\r\n    }\r\n    get visibleWidth() {\r\n        return this.utils.visibleWidth;\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    get element() {\r\n        return this.carouselProperties.cellsElement;\r\n    }\r\n    get freeScroll() {\r\n        return this.carouselProperties.freeScroll;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get transitionDuration() {\r\n        return this.carouselProperties.transitionDuration;\r\n    }\r\n    get transitionTimingFunction() {\r\n        return this.carouselProperties.transitionTimingFunction;\r\n    }\r\n    get cellLength() {\r\n        if (this.images) {\r\n            return this.images.length;\r\n        }\r\n        else {\r\n            return this.cells.cellLength;\r\n        }\r\n    }\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        }\r\n        else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n    get tooFewCells() {\r\n        return this.numberOfVisibleCells > this.cellLength;\r\n    }\r\n    get disabled() {\r\n        return this.tooFewCells;\r\n    }\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    init() {\r\n        this.setWidth();\r\n    }\r\n    handleTouchstart() {\r\n        this.startX = this.utils.getStartX(event);\r\n        this.startTime = new Date().getTime();\r\n        this.initialElementPositionX = this.getInitialElementPositionX();\r\n    }\r\n    handleHorizontalSwipe() {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (!this.isSwipeInProgress) {\r\n            this.startX = this.utils.getStartX(event);\r\n            this.startTime = new Date().getTime();\r\n            this.initialElementPositionX = this.getInitialElementPositionX();\r\n        }\r\n        this.isSwipeInProgress = true;\r\n        this.moveX = this.utils.getMoveX(event);\r\n        this.move();\r\n    }\r\n    handleTouchend(simpleProcessing = false) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        /* If touchend was passed to the Slide class */\r\n        if (simpleProcessing) {\r\n            this.isSwipeInProgress = false;\r\n            return;\r\n        }\r\n        this.isSwipeInProgress = false;\r\n        this.finishMoving();\r\n        this.clearInitialValues();\r\n    }\r\n    move() {\r\n        let positionX = this.getMovePositionX();\r\n        const isPulled = this.detectPulled();\r\n        const direction = this.getDirection();\r\n        if (isPulled) {\r\n            if (isPulled.edge === \"left\" && direction === \"right\" ||\r\n                isPulled.edge === \"right\" && direction === \"left\") {\r\n                positionX = this.slowdownOnPull(positionX);\r\n            }\r\n        }\r\n        this.transformPositionX(positionX, 0);\r\n        if (this.freeScroll) {\r\n            this.initialPositionX = positionX;\r\n        }\r\n        if (isPulled) {\r\n            if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\r\n                this.initialPositionX = 0;\r\n            }\r\n            if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\r\n                this.initialPositionX = positionX;\r\n            }\r\n        }\r\n    }\r\n    getMovePositionX() {\r\n        const distance = this.getDistance();\r\n        return this.initialElementPositionX - distance;\r\n    }\r\n    getDistance() {\r\n        return this.startX - this.moveX;\r\n    }\r\n    /* If the container is pulled out of the left or right border */\r\n    detectPulled() {\r\n        const currentPositionX = this.getCurrentPositionX();\r\n        if (currentPositionX > 0) {\r\n            return {\r\n                edge: 'left',\r\n                positionX: currentPositionX,\r\n                overflowX: Math.abs(currentPositionX)\r\n            };\r\n        }\r\n        if (currentPositionX < this.getEndPosition()) {\r\n            return {\r\n                edge: 'right',\r\n                positionX: currentPositionX,\r\n                overflowX: Math.abs(currentPositionX - this.getEndPosition())\r\n            };\r\n        }\r\n        return undefined;\r\n    }\r\n    slowdownOnPull(_positionX) {\r\n        let distance = Math.abs(this.getDistance());\r\n        const endPosition = this.getEndPosition();\r\n        const isPulled = this.detectPulled();\r\n        if (!isPulled) {\r\n            return 0;\r\n        }\r\n        const decelerationRatio = 3 + isPulled.overflowX / 50;\r\n        let positionX = 0;\r\n        if (isPulled.edge === 'left') {\r\n            if (this.initialElementPositionX < 0) {\r\n                distance = distance - Math.abs(this.initialElementPositionX);\r\n            }\r\n            const rubberPositionX = distance / decelerationRatio;\r\n            positionX = rubberPositionX;\r\n            if (this.initialElementPositionX > 0) {\r\n                positionX = this.initialElementPositionX + rubberPositionX;\r\n            }\r\n            if (positionX > this.pullLimit) {\r\n                positionX = this.pullLimit;\r\n            }\r\n        }\r\n        if (isPulled.edge === 'right') {\r\n            const rubberPositionX = endPosition + (((this.initialElementPositionX - distance) - endPosition) / decelerationRatio);\r\n            const containerWidth = this.getWidth();\r\n            positionX = rubberPositionX;\r\n            if (this.initialElementPositionX < -(containerWidth - this.visibleWidth)) {\r\n                positionX = ((containerWidth - this.visibleWidth) + this.initialElementPositionX) + rubberPositionX;\r\n            }\r\n            if (positionX < endPosition - this.pullLimit) {\r\n                positionX = endPosition - this.pullLimit;\r\n            }\r\n        }\r\n        return positionX;\r\n    }\r\n    finishMoving() {\r\n        const positionX = this.getMovePositionX();\r\n        let newPositionX = 0;\r\n        if (this.freeScroll) {\r\n            newPositionX = this.getInertia();\r\n        }\r\n        /* Align container while pulling */\r\n        newPositionX = this.getAlignedPositionOnPull(newPositionX);\r\n        this.transformPositionX(newPositionX);\r\n        this.setInitialPosition(positionX);\r\n    }\r\n    /* Returns the new position of the container with inertia */\r\n    getInertia() {\r\n        const distance = this.getDistance();\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.startTime;\r\n        let inertia = (distance / tapLength) * 100;\r\n        return this.initialPositionX - inertia;\r\n    }\r\n    getAlignedPositionOnPull(newPositionX) {\r\n        const direction = this.getDirection();\r\n        if (direction === 'left') {\r\n            let endPosition = this.getEndPosition();\r\n            if (newPositionX < endPosition) {\r\n                return endPosition;\r\n            }\r\n        }\r\n        if (direction === 'right') {\r\n            if (newPositionX > 0) {\r\n                return 0;\r\n            }\r\n        }\r\n        return newPositionX;\r\n    }\r\n    getCurrentPositionX() {\r\n        const parentPosition = this.element.parentElement.getBoundingClientRect();\r\n        const position = this.element.getBoundingClientRect();\r\n        return position.left - parentPosition.left;\r\n    }\r\n    getEndPosition() {\r\n        if (this.isLightDOM) {\r\n            let imagesInContainer = this.cells.imageUtils.getImages();\r\n            return -(imagesInContainer.length * this.fullCellWidth - this.visibleWidth - this.margin);\r\n        }\r\n        else {\r\n            const width = this.getWidth();\r\n            const visibleWidth = this.element.parentElement.clientWidth;\r\n            return visibleWidth - width;\r\n        }\r\n    }\r\n    transformPositionX(value, duration = this.transitionDuration) {\r\n        if (value === undefined) {\r\n            return;\r\n        }\r\n        this.element.style.transition = 'transform ' + duration + 'ms ' + this.transitionTimingFunction;\r\n        this.element.style.transform = 'translateX(' + value + 'px)';\r\n    }\r\n    getWidth() {\r\n        let width = this.cellLengthInLightDOMMode * this.fullCellWidth;\r\n        let totalImageWidth = this.cellLength * this.fullCellWidth;\r\n        if (totalImageWidth < width) {\r\n            width = totalImageWidth;\r\n        }\r\n        return this.isLightDOM ? width : totalImageWidth;\r\n    }\r\n    setWidth() {\r\n        const width = this.getWidth();\r\n        this.element.style.width = width + \"px\";\r\n    }\r\n    setInitialPosition(position) {\r\n        this.initialPositionX = position;\r\n    }\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n    getInitialElementPositionX() {\r\n        const carouselElementPosition = this.utils.getCarouselElementPosition()['left'];\r\n        return this.getElementPosition()['left'] - carouselElementPosition;\r\n    }\r\n    clearInitialValues() {\r\n        this.startX = this.moveX = 0;\r\n    }\r\n    getDirection() {\r\n        const direction = Math.sign(this.startX - this.moveX);\r\n        if (direction === -1) {\r\n            return 'right';\r\n        }\r\n        if (direction === 1) {\r\n            return 'left';\r\n        }\r\n        return undefined;\r\n    }\r\n}\n\nclass ImageUtils {\r\n    constructor(element) {\r\n        this.cellStack = [];\r\n        this.element = element;\r\n    }\r\n    getImages() {\r\n        return this.cellStack.filter(this.filter);\r\n    }\r\n    filter(cell) {\r\n        return cell.img !== undefined;\r\n    }\r\n}\r\nclass Cells {\r\n    constructor(carouselProperties, utils) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.utils = utils;\r\n        this.counter = 0;\r\n        this.imageUtils = new ImageUtils(this.element);\r\n        this.init(carouselProperties);\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    get cellLength() {\r\n        return this.cells ? this.cells.length : 0;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        }\r\n        else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    lineUp() {\r\n        const cells = this.element ? this.element.children : [];\r\n        this.imageUtils.cellStack = [];\r\n        for (var i = 0; i < cells.length; i++) {\r\n            let cell = cells[i];\r\n            let positionX = this.getCellPositionInContainer(i);\r\n            cell.style.transform = 'translateX(' + positionX + 'px)';\r\n            cell.style.width = this.carouselProperties.cellWidth + 'px';\r\n            if (this.getImage(i)) {\r\n                this.imageUtils.cellStack.push({\r\n                    index: i,\r\n                    positionX,\r\n                    img: this.getImage(i)['image']\r\n                });\r\n            }\r\n        }\r\n        ;\r\n    }\r\n    ifSequenceOfCellsIsChanged() {\r\n        const cells = this.element.children;\r\n        return cells[0]['style'].transform !== 'translateX(0px)';\r\n    }\r\n    getCellPositionInContainer(cellIndexInDOMTree) {\r\n        let positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n        return positionIndex * this.fullCellWidth;\r\n    }\r\n    getCellIndexInContainer(cellIndexInDOMTree) {\r\n        let positionIndex;\r\n        if (!this.isLightDOM) {\r\n            return cellIndexInDOMTree;\r\n        }\r\n        let cellLength = this.cellLengthInLightDOMMode;\r\n        let counter = this.counter - this.overflowCellsLimit;\r\n        if (counter > cellLength) {\r\n            counter = counter % cellLength;\r\n        }\r\n        if (counter < 0) {\r\n            return cellIndexInDOMTree;\r\n        }\r\n        else {\r\n            positionIndex = cellIndexInDOMTree - counter;\r\n            if (positionIndex < 0) {\r\n                positionIndex = cellLength + positionIndex;\r\n            }\r\n        }\r\n        return positionIndex;\r\n    }\r\n    getImage(cellIndex) {\r\n        if (!this.images) {\r\n            return;\r\n        }\r\n        let imageIndex = this.getImageIndex(cellIndex);\r\n        let file = this.images[imageIndex];\r\n        if (file && !file.type) {\r\n            file.type = 'image';\r\n        }\r\n        return {\r\n            image: this.images[imageIndex],\r\n            imageIndex\r\n        };\r\n    }\r\n    getImageIndex(cellIndexInDOMTree) {\r\n        const positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n        let imageIndex;\r\n        if (this.counter > this.overflowCellsLimit) {\r\n            let cellLimitOverflow = this.counter - this.overflowCellsLimit;\r\n            imageIndex = positionIndex + cellLimitOverflow;\r\n            if (this.images && this.carouselProperties.loop) {\r\n                imageIndex = imageIndex % this.images.length;\r\n            }\r\n        }\r\n        else {\r\n            imageIndex = cellIndexInDOMTree;\r\n        }\r\n        return imageIndex;\r\n    }\r\n    setCounter(value) {\r\n        this.counter = value;\r\n    }\r\n    init(carouselProperties) {\r\n        this.element = this.carouselProperties.cellsElement;\r\n        this.cells = this.element.children;\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.element.parentElement.clientWidth;\r\n    }\r\n}\n\nclass Slide {\r\n    constructor(carouselProperties, utils, cells, container) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.utils = utils;\r\n        this.cells = cells;\r\n        this.container = container;\r\n        this.slideLength = 0;\r\n        this.isSlideInProgress = false;\r\n        this.counter = 0;\r\n        this._counter = 0;\r\n        this.distance = 0;\r\n        this.distanceAbs = 0;\r\n        this.isNotClickOnArrow = false;\r\n        this.initialPositionX = 0;\r\n        this.currentPositionX = 0;\r\n        /* The slide length has been limited by the limitSlideLength() method */\r\n        this.isSlideLengthLimited = false;\r\n        this.init();\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n    get minSwipeDistance() {\r\n        return this.carouselProperties.minSwipeDistance;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n    get visibleCellsOverflowContainer() {\r\n        return this.utils.visibleCellsOverflowContainer;\r\n    }\r\n    /* The position to which the container returns after each slide\r\n     * in the light DUM tree mode.\r\n     */\r\n    get fixedContainerPosition() {\r\n        return -(this.overflowCellsLimit * this.fullCellWidth);\r\n    }\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    /* Number of cell elements in the DUM tree */\r\n    get cellLength() {\r\n        if (this.isLightDOM) {\r\n            return this.cells.cellLengthInLightDOMMode;\r\n        }\r\n        else {\r\n            if (this.images) {\r\n                return this.images.length;\r\n            }\r\n            else {\r\n                return this.cells.cellLength;\r\n            }\r\n        }\r\n    }\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.setVisibleWidth();\r\n    }\r\n    init() {\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\r\n    }\r\n    handleTouchstart() {\r\n        /* Touchstart event is not called for arrow */\r\n        this.isNotClickOnArrow = true;\r\n        this.isSlideLengthLimited = false;\r\n        if (!this.isSlideInProgress) {\r\n            this.initialPositionX = this.container.getCurrentPositionX();\r\n        }\r\n    }\r\n    handleTouchend() {\r\n        if (!this.isNotClickOnArrow) {\r\n            return;\r\n        }\r\n        this.currentPositionX = this.container.getCurrentPositionX();\r\n        this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\r\n        this.distance = this.initialPositionX - this.currentPositionX;\r\n        this.direction = this.getDirection();\r\n        this.isNotClickOnArrow = false;\r\n        this.handleSlide();\r\n    }\r\n    handleTransitionend() {\r\n        this.setCounter();\r\n        this.isSlideInProgress = false;\r\n        if (this.isLightDOM) {\r\n            this.alignContainerFast();\r\n        }\r\n    }\r\n    handleSlide(customSlideLength = undefined) {\r\n        let isUsingButton = customSlideLength;\r\n        let newPositionX;\r\n        if (isUsingButton && this.isSlideInProgress || !this.direction) {\r\n            return;\r\n        }\r\n        /* Custom slide length is used in arrows */\r\n        if (customSlideLength) {\r\n            this.slideLength = this.limitSlideLength(customSlideLength);\r\n            if (!this.isSlideInProgress) {\r\n                this.initialPositionX = this.container.getCurrentPositionX();\r\n            }\r\n        }\r\n        else {\r\n            this.slideLength = this.getSlideLength(this.distanceAbs);\r\n        }\r\n        /* Store intermediate counter value */\r\n        this._counter = this.getPreliminaryCounter();\r\n        if (this.direction === 'left') {\r\n            if (!customSlideLength) {\r\n                this.slideLength = this.limitSlideLength(this.getSlideLength(this.distanceAbs));\r\n            }\r\n            this._counter = this.getPreliminaryCounter();\r\n            let isSlidesEnd = this.isSlidesEnd(this._counter);\r\n            newPositionX = this.getPositionByIndex(this._counter);\r\n            if (isSlidesEnd) {\r\n                this._counter = this.counter;\r\n                newPositionX = this.getPositionByIndex(this.counter);\r\n                this.slideLength = 0;\r\n            }\r\n        }\r\n        if (this.direction === 'right') {\r\n            if (!customSlideLength) {\r\n                this.slideLength = this.getSlideLength(this.distanceAbs);\r\n            }\r\n            if (this._counter < 0) {\r\n                this._counter = this.counter;\r\n                this.slideLength = this.counter;\r\n            }\r\n            newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\r\n        }\r\n        if (this.container.getCurrentPositionX() !== newPositionX) {\r\n            this.isSlideInProgress = true;\r\n            this.container.transformPositionX(newPositionX);\r\n        }\r\n    }\r\n    next(length = 1) {\r\n        this.direction = 'left';\r\n        this.handleSlide(length);\r\n    }\r\n    prev(length = 1) {\r\n        this.direction = 'right';\r\n        this.handleSlide(length);\r\n    }\r\n    select(index) {\r\n        if (index > this.cellLength - 1) {\r\n            return;\r\n        }\r\n        if (index > this.counter) {\r\n            let length = index - this.counter;\r\n            this.next(length);\r\n        }\r\n        if (index < this.counter) {\r\n            let length = this.counter - index;\r\n            this.prev(length);\r\n        }\r\n    }\r\n    getPreliminaryCounter() {\r\n        if (this.direction === 'left') {\r\n            return this.counter + this.slideLength;\r\n        }\r\n        if (this.direction === 'right') {\r\n            return this.counter - this.slideLength;\r\n        }\r\n        return 0;\r\n    }\r\n    /*\r\n     * Limits the length of the slide during calls to the next() and prev()\r\n     * methods if the specified position is outside the cell length\r\n     */\r\n    limitSlideLength(slideLength) {\r\n        if (slideLength > 1) {\r\n            for (var i = 0; i < slideLength; i++) {\r\n                let newCounter = this.counter + (slideLength - i);\r\n                if (!this.isSlidesEnd(newCounter)) {\r\n                    slideLength = slideLength - i;\r\n                    this.isSlideLengthLimited = i > 0;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return slideLength;\r\n    }\r\n    /* Offset the container to show the last cell completely */\r\n    getPositionCorrection(counter) {\r\n        let correction = 0;\r\n        let isLastSlide = this.isLastSlide(counter);\r\n        if (this.carouselProperties.loop || this.direction === \"right\") {\r\n            return 0;\r\n        }\r\n        if (this.isSlideLengthLimited || isLastSlide) {\r\n            let cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\r\n            if (this.visibleWidth < cellsWidth) {\r\n                correction = -(this.numberOfVisibleCells * this.fullCellWidth - this.visibleWidth - this.margin);\r\n            }\r\n            if (correction >= -this.margin) {\r\n                correction = 0;\r\n            }\r\n        }\r\n        return correction;\r\n    }\r\n    getSlideLength(distanceAbs) {\r\n        let isLastSlide = this.isLastSlide(this.counter);\r\n        /* If the last cell does not fit entirely, then the\r\n         * length of the swipe to the left, from the extreme\r\n         * right position, may be shorter than usual.\r\n         */\r\n        if (isLastSlide && this.direction === \"right\") {\r\n            distanceAbs = distanceAbs + this.visibleWidth % this.fullCellWidth;\r\n        }\r\n        let length = Math.floor(distanceAbs / this.fullCellWidth);\r\n        if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\r\n            length++;\r\n        }\r\n        return length;\r\n    }\r\n    getDistanceAbs() {\r\n        return Math.abs(this.initialPositionX - this.currentPositionX);\r\n    }\r\n    getDirection() {\r\n        const direction = Math.sign(this.initialPositionX - this.currentPositionX);\r\n        if (direction === -1) {\r\n            return 'right';\r\n        }\r\n        if (direction === 1) {\r\n            return 'left';\r\n        }\r\n        return undefined;\r\n    }\r\n    isSlidesEnd(counter) {\r\n        let margin = this.visibleCellsOverflowContainer ? 1 : 0;\r\n        let imageLength = this.images ? this.images.length : this.cells.cellLength;\r\n        if (this.carouselProperties.loop) {\r\n            return false;\r\n        }\r\n        else {\r\n            return (imageLength - counter + margin) < this.numberOfVisibleCells;\r\n        }\r\n    }\r\n    isLastSlide(counter) {\r\n        return this.isSlidesEnd(counter + 1);\r\n    }\r\n    setCounter() {\r\n        if (this.direction === 'left') {\r\n            this.counter = this.counter + this.slideLength;\r\n        }\r\n        if (this.direction === 'right') {\r\n            this.counter = this.counter - this.slideLength;\r\n        }\r\n    }\r\n    getPositionByIndex(_counter) {\r\n        let correction = this.getPositionCorrection(this.counter + this.slideLength);\r\n        let position;\r\n        if (correction !== 0) {\r\n            correction = correction + this.fullCellWidth;\r\n        }\r\n        if (this.direction === 'right') {\r\n            correction = 0;\r\n        }\r\n        if (this.isLightDOM && this.isLightDOMMode(_counter) ||\r\n            this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter)) {\r\n            let initialPosition = this.getPositionWithoutCorrection(this.initialPositionX);\r\n            let counterDifference = _counter - this.counter;\r\n            position = initialPosition - ((counterDifference * this.fullCellWidth) - correction);\r\n        }\r\n        else {\r\n            position = -((_counter * this.fullCellWidth) - correction);\r\n        }\r\n        position = this.provideSafePosition(position);\r\n        return position;\r\n    }\r\n    provideSafePosition(position) {\r\n        const endPosition = this.container.getEndPosition();\r\n        if (this.direction === 'left') {\r\n            if (position > 0) {\r\n                position = 0;\r\n            }\r\n        }\r\n        if (this.direction === 'right') {\r\n            if (position < endPosition) {\r\n                position = endPosition;\r\n            }\r\n        }\r\n        return position;\r\n    }\r\n    getPositionWithoutCorrection(value) {\r\n        let remainder = Math.round(value) % this.fullCellWidth;\r\n        if (remainder !== 0) {\r\n            return value - (this.fullCellWidth + remainder);\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    isNextArrowDisabled() {\r\n        return this.isLastSlide(this.counter) ||\r\n            (!this.visibleCellsOverflowContainer && this.cellLength <= this.numberOfVisibleCells) ||\r\n            (this.visibleCellsOverflowContainer && this.cellLength < this.numberOfVisibleCells);\r\n    }\r\n    isPrevArrowDisabled() {\r\n        return this.counter === 0;\r\n    }\r\n    alignContainerFast() {\r\n        if (this.isLightDOMMode(this.counter)) {\r\n            let positionX = this.fixedContainerPosition;\r\n            this.container.transformPositionX(positionX, 0);\r\n            this.cells.setCounter(this.counter);\r\n            this.cells.lineUp();\r\n        }\r\n        else if (this.ifLeftDOMModeToBeginning(this.counter)) {\r\n            /* If we have already exited the light DOM mode but\r\n             * the cells are still out of place\r\n             */\r\n            if (this.cells.ifSequenceOfCellsIsChanged()) {\r\n                let positionX = -(this.counter * this.fullCellWidth);\r\n                this.container.transformPositionX(positionX, 0);\r\n                this.cells.setCounter(this.counter);\r\n                this.cells.lineUp();\r\n            }\r\n        }\r\n        else if (this.ifLeftDOMModeAtEnd(this.counter)) {\r\n            let containerPositionX = this.container.getCurrentPositionX();\r\n            let containerWidth = this.container.getWidth();\r\n            this.visibleWidth;\r\n            if (this.isLastSlide(this.counter) &&\r\n                containerWidth + containerPositionX >= this.visibleWidth) {\r\n                return;\r\n            }\r\n            let correction = this.getPositionCorrection(this.counter);\r\n            if (correction !== 0) {\r\n                correction = correction + this.fullCellWidth;\r\n            }\r\n            if (this.direction === 'right') {\r\n                correction = 0;\r\n            }\r\n            let positionX = this.fixedContainerPosition + correction;\r\n            this.container.transformPositionX(positionX, 0);\r\n            this.cells.setCounter(this.counter);\r\n            this.cells.lineUp();\r\n        }\r\n    }\r\n    isLightDOMMode(counter) {\r\n        let flag;\r\n        let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n        if (!this.isLightDOM) {\r\n            return false;\r\n        }\r\n        if (counter > this.overflowCellsLimit && this.direction === \"left\" &&\r\n            counter <= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (counter >= this.overflowCellsLimit && this.direction === \"right\" &&\r\n            counter < remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (this.counter > this.overflowCellsLimit && this.direction === \"left\" &&\r\n            this.counter <= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (this.counter >= this.overflowCellsLimit && this.direction === \"right\" &&\r\n            this.counter < remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n    ifLeftDOMModeAtEnd(counter) {\r\n        let flag;\r\n        let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n        if (counter >= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        if (this.counter >= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n    ifLeftDOMModeToBeginning(counter) {\r\n        let flag;\r\n        if (counter <= this.overflowCellsLimit) {\r\n            flag = true;\r\n        }\r\n        if (this.counter <= this.overflowCellsLimit) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n    setVisibleWidth() {\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\r\n    }\r\n}\n\nclass Utils {\r\n    constructor(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n    get overflowCellsLimit() {\r\n        if (this.images && this.isImagesLessCellLimit) {\r\n            let overflowCellsLimit = Math.floor((this.images.length - this.numberOfVisibleCells) / 2);\r\n            if (overflowCellsLimit < 0) {\r\n                overflowCellsLimit = 0;\r\n            }\r\n            return overflowCellsLimit;\r\n        }\r\n        else {\r\n            return this.carouselProperties.overflowCellsLimit;\r\n        }\r\n    }\r\n    get isImagesLessCellLimit() {\r\n        return this.carouselProperties.overflowCellsLimit * 2 + this.numberOfVisibleCells > this.images.length;\r\n    }\r\n    get numberOfVisibleCells() {\r\n        return Math.ceil(this.visibleWidth / this.fullCellWidth);\r\n    }\r\n    get visibleCellsOverflowContainer() {\r\n        return (this.numberOfVisibleCells * this.fullCellWidth - this.margin) > this.visibleWidth;\r\n    }\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n    get visibleWidth() {\r\n        return this.carouselProperties.visibleWidth || this.carouselProperties.cellsElement.parentElement.clientWidth;\r\n    }\r\n    updateProperties(carouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n    getStartX(event) {\r\n        const touches = event.touches;\r\n        const carouselElementPosition = this.getCarouselElementPosition()['left'];\r\n        let startX;\r\n        if (touches) {\r\n            startX = touches[0].clientX - carouselElementPosition;\r\n        }\r\n        else {\r\n            startX = event.clientX - carouselElementPosition;\r\n        }\r\n        return startX;\r\n    }\r\n    getMoveX(event) {\r\n        const touches = event.touches;\r\n        const carouselElementPositionX = this.getCarouselElementPosition()['left'];\r\n        if (touches) {\r\n            return touches[0].clientX - carouselElementPositionX;\r\n        }\r\n        else {\r\n            return event.clientX - carouselElementPositionX;\r\n        }\r\n    }\r\n    getCarouselElementPosition() {\r\n        return this.carouselProperties.hostElement.getBoundingClientRect();\r\n    }\r\n}\n\nclass CarouselComponent {\r\n    constructor(elementRef, ref) {\r\n        this.elementRef = elementRef;\r\n        this.ref = ref;\r\n        this.minTimeout = 30;\r\n        this.isVideoPlaying = false;\r\n        this._isCounter = false;\r\n        this._cellWidth = 200;\r\n        this._loop = false;\r\n        this._lightDOM = false;\r\n        this.isMoving = false;\r\n        this.isNgContent = false;\r\n        this.events = new EventEmitter();\r\n        this.height = 200;\r\n        this.autoplay = false;\r\n        this.autoplayInterval = 5000;\r\n        this.pauseOnHover = true;\r\n        this.dots = false;\r\n        this.margin = 10;\r\n        this.objectFit = 'cover';\r\n        this.minSwipeDistance = 10;\r\n        this.transitionDuration = 200;\r\n        this.transitionTimingFunction = 'ease-out';\r\n        this.counterSeparator = \" / \";\r\n        this.overflowCellsLimit = 3;\r\n        this.listeners = 'mouse and touch';\r\n        this.cellsToScroll = 1;\r\n        this.freeScroll = false;\r\n        this.arrows = true;\r\n        this.arrowsOutside = false;\r\n        this.arrowsTheme = 'light';\r\n        this.hostClassCarousel = true;\r\n        this.handleTouchstart = (event) => {\r\n            this.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\r\n            this.carousel.handleTouchstart(event);\r\n            this.isMoving = true;\r\n        };\r\n        this.handleHorizontalSwipe = (event) => {\r\n            event.preventDefault();\r\n            this.carousel.handleHorizontalSwipe(event);\r\n        };\r\n        this.handleTouchend = (event) => {\r\n            const touches = event.touches;\r\n            this.carousel.handleTouchend(event);\r\n            this.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\r\n            this.isMoving = false;\r\n        };\r\n        this.handleTap = (event) => {\r\n            let outboundEvent = {\r\n                name: 'click'\r\n            };\r\n            let nodes = Array.prototype.slice.call(this.cellsElement.children);\r\n            let cellElement = event.srcElement.closest(\".carousel-cell\");\r\n            const i = nodes.indexOf(cellElement);\r\n            const cellIndex = nodes.indexOf(cellElement);\r\n            if (this.images) {\r\n                //outboundEvent.fileIndex = this.carousel.getFileIndex(i);\r\n                //outboundEvent.file = this.carousel.getFile(cellIndex);\r\n            }\r\n            else {\r\n                outboundEvent.cellIndex = cellIndex;\r\n            }\r\n        };\r\n    }\r\n    get isContainerLocked() {\r\n        if (this.carousel) {\r\n            return this.carousel.isContainerLocked;\r\n        }\r\n    }\r\n    get slideCounter() {\r\n        if (this.carousel) {\r\n            return this.carousel.slideCounter;\r\n        }\r\n    }\r\n    get lapCounter() {\r\n        if (this.carousel) {\r\n            return this.carousel.lapCounter;\r\n        }\r\n    }\r\n    get isLandscape() {\r\n        return window.innerWidth > window.innerHeight;\r\n    }\r\n    get isSafari() {\r\n        const ua = navigator.userAgent.toLowerCase();\r\n        if (ua.indexOf('safari') !== -1) {\r\n            return !(ua.indexOf('chrome') > -1);\r\n        }\r\n    }\r\n    get counter() {\r\n        let counter;\r\n        if (this.loop) {\r\n            counter = this.slideCounter % this.cellLength;\r\n        }\r\n        else {\r\n            counter = this.slideCounter;\r\n        }\r\n        return counter + 1 + this.counterSeparator + this.cellLength;\r\n    }\r\n    get cellsElement() {\r\n        return this.elementRef.nativeElement.querySelector('.carousel-cells');\r\n    }\r\n    get isArrows() {\r\n        return this.arrows && !this.freeScroll;\r\n    }\r\n    get isCounter() {\r\n        return this._isCounter && this.cellLength > 1;\r\n    }\r\n    get activeDotIndex() {\r\n        return this.slideCounter % this.cellLength;\r\n    }\r\n    get cellLimit() {\r\n        if (this.carousel) {\r\n            return this.carousel.cellLimit;\r\n        }\r\n    }\r\n    get carouselWidth() {\r\n        return this.elementRef.nativeElement.clientWidth;\r\n    }\r\n    set images(images) {\r\n        this._images = images;\r\n    }\r\n    get images() {\r\n        return this._images;\r\n    }\r\n    set cellWidth(value) {\r\n        if (value) {\r\n            this._cellWidth = value;\r\n        }\r\n    }\r\n    set isCounter(value) {\r\n        if (value) {\r\n            this._isCounter = value;\r\n        }\r\n    }\r\n    set loop(value) {\r\n        if (value) {\r\n            this._loop = value;\r\n        }\r\n    }\r\n    get loop() {\r\n        if (this.images) {\r\n            return this._loop;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    set lightDOM(value) {\r\n        if (value) {\r\n            this._lightDOM = value;\r\n        }\r\n    }\r\n    get lightDOM() {\r\n        if (this.images) {\r\n            return this._lightDOM;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    onWindowResize(event) {\r\n        if (this.utils.visibleWidth !== this.savedCarouselWidth) {\r\n            this.resize();\r\n        }\r\n    }\r\n    onMousemove(event) {\r\n        if (this.autoplay && this.pauseOnHover) {\r\n            this.carousel.stopAutoplay();\r\n        }\r\n    }\r\n    onMouseleave(event) {\r\n        if (this.autoplay && this.pauseOnHover) {\r\n            this.carousel.autoplay();\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.isNgContent = this.cellsElement.children.length > 0;\r\n        this.touches = new Touches({\r\n            element: this.cellsElement,\r\n            listeners: this.listeners,\r\n            mouseListeners: {\r\n                \"mousedown\": \"handleMousedown\",\r\n                \"mouseup\": \"handleMouseup\"\r\n            }\r\n        });\r\n        this.touches.on('touchstart', this.handleTouchstart);\r\n        this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\r\n        this.touches.on('touchend', this.handleTouchend);\r\n        this.touches.on('mousedown', this.handleTouchstart);\r\n        this.touches.on('mouseup', this.handleTouchend);\r\n        this.touches.on('tap', this.handleTap);\r\n        this.setDimensions();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.initCarousel();\r\n        this.cellLength = this.getCellLength();\r\n        this.dotsArr = Array(this.cellLength).fill(1);\r\n        this.ref.detectChanges();\r\n        this.carousel.lineUpCells();\r\n        this.savedCarouselWidth = this.carouselWidth;\r\n        /* Start detecting changes in the DOM tree */\r\n        this.detectDomChanges();\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (changes.width || changes.height || changes.images) {\r\n            this.setDimensions();\r\n            this.initCarousel();\r\n            this.carousel.lineUpCells();\r\n            this.ref.detectChanges();\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this.touches.destroy();\r\n        //this.carousel.destroy();\r\n    }\r\n    initCarousel() {\r\n        this.carouselProperties = {\r\n            id: this.id,\r\n            cellsElement: this.elementRef.nativeElement.querySelector('.carousel-cells'),\r\n            hostElement: this.elementRef.nativeElement,\r\n            images: this.images,\r\n            cellWidth: this.getCellWidth(),\r\n            loop: this.loop,\r\n            autoplayInterval: this.autoplayInterval,\r\n            overflowCellsLimit: this.overflowCellsLimit,\r\n            visibleWidth: this.width,\r\n            margin: this.margin,\r\n            minSwipeDistance: this.minSwipeDistance,\r\n            transitionDuration: this.transitionDuration,\r\n            transitionTimingFunction: this.transitionTimingFunction,\r\n            videoProperties: this.videoProperties,\r\n            eventHandler: this.events,\r\n            freeScroll: this.freeScroll,\r\n            lightDOM: this.lightDOM\r\n        };\r\n        this.utils = new Utils(this.carouselProperties);\r\n        this.cells = new Cells(this.carouselProperties, this.utils);\r\n        this.container = new Container(this.carouselProperties, this.utils, this.cells);\r\n        this.slide = new Slide(this.carouselProperties, this.utils, this.cells, this.container);\r\n        this.carousel = new Carousel(this.carouselProperties, this.utils, this.cells, this.container, this.slide);\r\n        if (this.autoplay) {\r\n            this.carousel.autoplay();\r\n        }\r\n    }\r\n    resize() {\r\n        this.landscapeMode = this.isLandscape;\r\n        this.savedCarouselWidth = this.carouselWidth;\r\n        this.carouselProperties.cellWidth = this.getCellWidth();\r\n        this.cells.updateProperties(this.carouselProperties);\r\n        this.carousel.updateProperties(this.carouselProperties);\r\n        this.container.updateProperties(this.carouselProperties);\r\n        this.slide.updateProperties(this.carouselProperties);\r\n        this.utils.updateProperties(this.carouselProperties);\r\n        this.carousel.lineUpCells();\r\n        this.slide.select(0);\r\n        this.ref.detectChanges();\r\n    }\r\n    detectDomChanges() {\r\n        const observer = new MutationObserver((mutations) => {\r\n            this.onDomChanges();\r\n        });\r\n        var config = {\r\n            attributes: true,\r\n            childList: true,\r\n            characterData: true\r\n        };\r\n        observer.observe(this.cellsElement, config);\r\n    }\r\n    onDomChanges() {\r\n        this.cellLength = this.getCellLength();\r\n        this.carousel.lineUpCells();\r\n        this.ref.detectChanges();\r\n    }\r\n    setDimensions() {\r\n        this.hostStyleHeight = this.height + 'px';\r\n        this.hostStyleWidth = this.width + 'px';\r\n    }\r\n    getImage(index) {\r\n        return this.carousel.getImage(index);\r\n    }\r\n    handleTransitionendCellContainer(event) {\r\n        if (event.target['className'] === 'carousel-cells') {\r\n            this.carousel.handleTransitionend();\r\n        }\r\n    }\r\n    getCellWidth() {\r\n        let elementWidth = this.carouselWidth;\r\n        if (this.cellsToShow) {\r\n            let margin = this.cellsToShow > 1 ? this.margin : 0;\r\n            let totalMargin = margin * (this.cellsToShow - 1);\r\n            return (elementWidth - totalMargin) / this.cellsToShow;\r\n        }\r\n        if (this._cellWidth === '100%') {\r\n            return elementWidth;\r\n        }\r\n        else {\r\n            return this._cellWidth;\r\n        }\r\n    }\r\n    next() {\r\n        this.carousel.next(this.cellsToScroll);\r\n        this.carousel.stopAutoplay();\r\n    }\r\n    prev() {\r\n        this.carousel.prev(this.cellsToScroll);\r\n        this.carousel.stopAutoplay();\r\n    }\r\n    isNextArrowDisabled() {\r\n        if (this.carousel) {\r\n            return this.carousel.isNextArrowDisabled();\r\n        }\r\n    }\r\n    isPrevArrowDisabled() {\r\n        if (this.carousel) {\r\n            return this.carousel.isPrevArrowDisabled();\r\n        }\r\n    }\r\n    getCellLength() {\r\n        if (this.images) {\r\n            return this.images.length;\r\n        }\r\n        else {\r\n            return this.cellsElement.children.length;\r\n        }\r\n    }\r\n}\nCarouselComponent.ɵfac = function CarouselComponent_Factory(t) { return new (t || CarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nCarouselComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: CarouselComponent, selectors: [[\"carousel\"], [\"\", \"carousel\", \"\"]], hostVars: 6, hostBindings: function CarouselComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function CarouselComponent_resize_HostBindingHandler($event) { return ctx.onWindowResize($event); }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function CarouselComponent_mousemove_HostBindingHandler($event) { return ctx.onMousemove($event); })(\"mouseleave\", function CarouselComponent_mouseleave_HostBindingHandler($event) { return ctx.onMouseleave($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"height\", ctx.hostStyleHeight)(\"width\", ctx.hostStyleWidth);\n        ɵngcc0.ɵɵclassProp(\"carousel\", ctx.hostClassCarousel);\n    } }, inputs: { height: \"height\", autoplay: \"autoplay\", autoplayInterval: \"autoplayInterval\", pauseOnHover: \"pauseOnHover\", dots: \"dots\", margin: \"margin\", objectFit: \"objectFit\", minSwipeDistance: \"minSwipeDistance\", transitionDuration: \"transitionDuration\", transitionTimingFunction: \"transitionTimingFunction\", counterSeparator: \"counterSeparator\", overflowCellsLimit: \"overflowCellsLimit\", listeners: \"listeners\", cellsToScroll: \"cellsToScroll\", freeScroll: \"freeScroll\", arrows: \"arrows\", arrowsOutside: \"arrowsOutside\", arrowsTheme: \"arrowsTheme\", isCounter: [\"counter\", \"isCounter\"], images: \"images\", cellWidth: \"cellWidth\", loop: \"loop\", lightDOM: \"lightDOM\", id: \"id\", width: \"width\", borderRadius: \"borderRadius\", videoProperties: \"videoProperties\", cellsToShow: \"cellsToShow\" }, outputs: { events: \"events\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c0, decls: 8, vars: 6, consts: [[\"class\", \"carousel-counter\", 4, \"ngIf\"], [1, \"carousel-container\"], [1, \"carousel-cells\", 3, \"transitionend\"], [\"cells\", \"\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"carousel-dots\", 4, \"ngIf\"], [\"class\", \"carousel-arrows\", 3, \"carousel-arrows-outside\", \"carousel-dark-arrows\", 4, \"ngIf\"], [1, \"carousel-counter\"], [\"class\", \"carousel-cell\", 3, \"width\", \"border-radius\", 4, \"ngIf\"], [1, \"carousel-cell\"], [\"draggable\", \"false\", 3, \"src\", \"object-fit\", 4, \"ngIf\"], [\"draggable\", \"false\", 3, \"src\"], [1, \"carousel-dots\"], [\"class\", \"carousel-dot\", 3, \"carousel-dot-active\", 4, \"ngFor\", \"ngForOf\"], [1, \"carousel-dot\"], [1, \"carousel-arrows\"], [1, \"carousel-arrow\", \"carousel-arrow-prev\", 3, \"click\"], [1, \"carousel-arrow\", \"carousel-arrow-next\", 3, \"click\"]], template: function CarouselComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, CarouselComponent_div_0_Template, 2, 1, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2, 3);\n        ɵngcc0.ɵɵlistener(\"transitionend\", function CarouselComponent_Template_div_transitionend_2_listener($event) { return ctx.handleTransitionendCellContainer($event); });\n        ɵngcc0.ɵɵprojection(4);\n        ɵngcc0.ɵɵtemplate(5, CarouselComponent_ng_template_5_Template, 1, 1, \"ng-template\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, CarouselComponent_div_6_Template, 2, 1, \"div\", 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(7, CarouselComponent_div_7_Template, 3, 8, \"div\", 6);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isCounter);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"carousel-moving\", ctx.isMoving);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.images);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.dots);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isArrows);\n    } }, dependencies: [ɵngcc1.NgForOf, ɵngcc1.NgIf], styles: [\"[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}[_nghost-%COMP%]     .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}\"] });\r\nCarouselComponent.ctorParameters = () => [\r\n    { type: ElementRef },\r\n    { type: ChangeDetectorRef }\r\n];\r\nCarouselComponent.propDecorators = {\r\n    events: [{ type: Output }],\r\n    id: [{ type: Input }],\r\n    height: [{ type: Input }],\r\n    width: [{ type: Input }],\r\n    autoplay: [{ type: Input }],\r\n    autoplayInterval: [{ type: Input }],\r\n    pauseOnHover: [{ type: Input }],\r\n    dots: [{ type: Input }],\r\n    borderRadius: [{ type: Input }],\r\n    margin: [{ type: Input }],\r\n    objectFit: [{ type: Input }],\r\n    minSwipeDistance: [{ type: Input }],\r\n    transitionDuration: [{ type: Input }],\r\n    transitionTimingFunction: [{ type: Input }],\r\n    videoProperties: [{ type: Input }],\r\n    counterSeparator: [{ type: Input }],\r\n    overflowCellsLimit: [{ type: Input }],\r\n    listeners: [{ type: Input }],\r\n    cellsToShow: [{ type: Input }],\r\n    cellsToScroll: [{ type: Input }],\r\n    freeScroll: [{ type: Input }],\r\n    arrows: [{ type: Input }],\r\n    arrowsOutside: [{ type: Input }],\r\n    arrowsTheme: [{ type: Input }],\r\n    images: [{ type: Input }],\r\n    cellWidth: [{ type: Input, args: ['cellWidth',] }],\r\n    isCounter: [{ type: Input, args: ['counter',] }],\r\n    loop: [{ type: Input, args: ['loop',] }],\r\n    lightDOM: [{ type: Input, args: ['lightDOM',] }],\r\n    hostClassCarousel: [{ type: HostBinding, args: ['class.carousel',] }],\r\n    hostStyleHeight: [{ type: HostBinding, args: ['style.height',] }],\r\n    hostStyleWidth: [{ type: HostBinding, args: ['style.width',] }],\r\n    onWindowResize: [{ type: HostListener, args: ['window:resize', ['$event'],] }],\r\n    onMousemove: [{ type: HostListener, args: ['mousemove', ['$event'],] }],\r\n    onMouseleave: [{ type: HostListener, args: ['mouseleave', ['$event'],] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CarouselComponent, [{\n        type: Component,\n        args: [{ selector: 'carousel, [carousel]', template: \"<div class=\\\"carousel-counter\\\" *ngIf=\\\"isCounter\\\">{{counter}}</div>\\r\\n\\r\\n<div class=\\\"carousel-container\\\" [class.carousel-moving]=\\\"isMoving\\\">\\r\\n\\t<div class=\\\"carousel-cells\\\" #cells (transitionend)=\\\"handleTransitionendCellContainer($event)\\\">\\r\\n\\t\\t<ng-content></ng-content>\\r\\n\\r\\n\\t\\t<ng-template ngFor let-image [ngForOf]=\\\"images\\\" let-i=\\\"index\\\">\\r\\n\\t\\t\\t<div class=\\\"carousel-cell\\\" \\r\\n\\t\\t\\t\\t[style.width]=\\\"getCellWidth()+'px'\\\"\\r\\n\\t\\t\\t\\t[style.border-radius]=\\\"borderRadius+'px'\\\"\\r\\n\\t\\t\\t\\t*ngIf=\\\"i < cellLimit\\\">\\r\\n\\t\\t\\t\\t<!-- Image -->\\r\\n\\t\\t\\t\\t<img \\r\\n\\t\\t\\t\\t\\t*ngIf=\\\"getImage(i) && getImage(i)['image']\\\" \\r\\n\\t\\t\\t\\t\\t[src]=\\\"getImage(i)['image']['path']\\\"\\r\\n\\t\\t\\t\\t\\t[style.object-fit]=\\\"objectFit\\\"\\r\\n\\t\\t\\t\\t\\tdraggable=\\\"false\\\" />\\r\\n\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</ng-template>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"carousel-dots\\\" *ngIf=\\\"dots\\\">\\r\\n\\t\\t<div class=\\\"carousel-dot\\\" [class.carousel-dot-active]=\\\"i === activeDotIndex\\\" *ngFor=\\\"let dot of dotsArr; index as i\\\"></div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"carousel-arrows\\\" \\r\\n\\t[class.carousel-arrows-outside]=\\\"arrowsOutside\\\" \\r\\n\\t[class.carousel-dark-arrows]=\\\"arrowsTheme === 'dark'\\\"\\r\\n\\t*ngIf=\\\"isArrows\\\">\\r\\n\\t\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-prev\\\" [class.carousel-arrow-disabled]=\\\"isPrevArrowDisabled()\\\" (click)=\\\"prev()\\\"></div>\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-next\\\" [class.carousel-arrow-disabled]=\\\"isNextArrowDisabled()\\\" (click)=\\\"next()\\\"></div>\\r\\n</div>\", styles: [\":host{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}:host .carousel-container{overflow:hidden;width:100%;height:100%;cursor:grab}:host .carousel-container.carousel-moving{cursor:grabbing}:host .carousel-counter{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}:host ::ng-deep .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}:host ::ng-deep .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}:host ::ng-deep .carousel-cells .carousel-cell img,:host ::ng-deep .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}:host ::ng-deep .carousel-cells .carousel-cell img.swiper-hide{display:none}:host ::ng-deep .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}:host .carousel-arrow{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}:host .carousel-arrow-prev{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}:host .carousel-arrow-next{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}:host .carousel-arrows-outside .carousel-arrow-prev{left:-60px}:host .carousel-arrows-outside .carousel-arrow-next{right:-60px}:host .carousel-dark-arrows .carousel-arrow{filter:invert(1)}:host .carousel-arrow-disabled{cursor:default;opacity:.5}:host .carousel-dots{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}:host .carousel-dots .carousel-dot{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}:host .carousel-dots .carousel-dot-active{background-color:#fff}\"] }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }]; }, { events: [{\n            type: Output\n        }], height: [{\n            type: Input\n        }], autoplay: [{\n            type: Input\n        }], autoplayInterval: [{\n            type: Input\n        }], pauseOnHover: [{\n            type: Input\n        }], dots: [{\n            type: Input\n        }], margin: [{\n            type: Input\n        }], objectFit: [{\n            type: Input\n        }], minSwipeDistance: [{\n            type: Input\n        }], transitionDuration: [{\n            type: Input\n        }], transitionTimingFunction: [{\n            type: Input\n        }], counterSeparator: [{\n            type: Input\n        }], overflowCellsLimit: [{\n            type: Input\n        }], listeners: [{\n            type: Input\n        }], cellsToScroll: [{\n            type: Input\n        }], freeScroll: [{\n            type: Input\n        }], arrows: [{\n            type: Input\n        }], arrowsOutside: [{\n            type: Input\n        }], arrowsTheme: [{\n            type: Input\n        }], hostClassCarousel: [{\n            type: HostBinding,\n            args: ['class.carousel']\n        }], isCounter: [{\n            type: Input,\n            args: ['counter']\n        }], images: [{\n            type: Input\n        }], cellWidth: [{\n            type: Input,\n            args: ['cellWidth']\n        }], loop: [{\n            type: Input,\n            args: ['loop']\n        }], lightDOM: [{\n            type: Input,\n            args: ['lightDOM']\n        }], onWindowResize: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], onMousemove: [{\n            type: HostListener,\n            args: ['mousemove', ['$event']]\n        }], onMouseleave: [{\n            type: HostListener,\n            args: ['mouseleave', ['$event']]\n        }], hostStyleHeight: [{\n            type: HostBinding,\n            args: ['style.height']\n        }], hostStyleWidth: [{\n            type: HostBinding,\n            args: ['style.width']\n        }], id: [{\n            type: Input\n        }], width: [{\n            type: Input\n        }], borderRadius: [{\n            type: Input\n        }], videoProperties: [{\n            type: Input\n        }], cellsToShow: [{\n            type: Input\n        }] }); })();\n\nclass IvyCarouselModule {\r\n}\nIvyCarouselModule.ɵfac = function IvyCarouselModule_Factory(t) { return new (t || IvyCarouselModule)(); };\nIvyCarouselModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: IvyCarouselModule });\nIvyCarouselModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [CommonModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IvyCarouselModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    CarouselComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    CarouselComponent\n                ],\n                providers: [],\n                bootstrap: [],\n                entryComponents: [\n                    CarouselComponent\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(IvyCarouselModule, { declarations: function () { return [CarouselComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [CarouselComponent]; } }); })();\n\n/*\r\n * Public API Surface of angular-responsive-carousel\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { CarouselComponent, IvyCarouselModule };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}